"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[5499],{45880:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(96540),r=n(13742);const a=()=>{const{width:e}=(0,r.A)(),[t,n]=(0,s.useState)(0),a=(0,s.useRef)(null);return(0,s.useEffect)((()=>{if(!a.current)return;const e=a.current.getBoundingClientRect();n(e.width)}),[a,e]),{width:t,ref:a,style:{width:"100%",position:"relative",pointerEvents:"none",userSelect:"none",top:0,left:0}}}},65394:(e,t,n)=>{n.d(t,{A:()=>s});const s=new Map},68737:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(4255),r=n(65394),a=n(19171),i=n(66556);const o=e=>{if(s.A.isChatId(e)){const t=r.A.get(e);return t?.chat_settings?.title||""}if(s.A.isUserId(e)&&i.A.has(e)){const t=i.A.get(e);return`${t.first_name} ${t.last_name}`}const t=Math.abs(e);if(s.A.isGroupId(e)&&a.A.has(t)){return a.A.get(t).name}return""}},19171:(e,t,n)=>{n.d(t,{A:()=>s});const s=new Map},66556:(e,t,n)=>{n.d(t,{A:()=>s});const s=new Map},2346:(e,t,n)=>{n.d(t,{A:()=>s});const s=(0,n(96540).createContext)(null)},39044:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(74848),r=n(96540),a=n(68737),i=n(2346);const o=({children:e,items:t,onChange:n})=>{const[o,d]=(0,r.useState)(""),[l,c]=(0,r.useState)(t);(0,r.useEffect)((()=>{n(l)}),[l]);const _=(0,r.useMemo)((()=>o?t.filter((e=>(0,a.A)(e).toLowerCase().indexOf(o.toLowerCase())>-1)):t),[o,t]);return(0,s.jsx)(i.A.Provider,{value:{onChange:n,items:t,search:o,filteredItems:_,setSelectedItems:c,selectedItems:l,setSearch:d},children:e})}},81543:(e,t,n)=>{n.d(t,{A:()=>l});var s=n(74848),r=n(33258),a=n(39107),i=n(68737),o=n(66556),d=n(15200);const l=({index:e})=>{const{filteredItems:t,selectedItems:n,setSelectedItems:l}=(0,d.A)(),c=o.A.get(t[e]);if(!c)return null;const _=(0,i.A)(c.id),h=n.includes(c.id);return(0,s.jsx)(a.T6P,{before:(0,s.jsx)(r.A,{size:40,src:c.photo_50||c.photo_100,isNFT:c.is_nft,badge:c.online?"online":void 0}),Component:"label",after:(0,s.jsx)(a.Sc0,{hasHover:!1,hasActive:!1,checked:h,onChange:()=>{l((e=>e.includes(c.id)?e.filter((e=>e!==c.id)):[...e,c.id]))}}),children:_})}},29783:(e,t,n)=>{n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>f});var r=n(74848),a=n(45880),i=n(58006),o=n(8015),d=n(39107),l=n(11092),c=n(39044),_=n(15200),h=e([o]);o=(h.then?(await h)():h)[0];const u=({ListItem:e,width:t,height:n})=>{const{filteredItems:s}=(0,_.A)(),a=(0,o.A)(),i=n-16-60-52;return 0===s.length?(0,r.jsx)(d.OrA,{style:{width:t,height:i},children:a.use("global_not_found")}):(0,r.jsx)(l.B8,{width:t,height:i,rowHeight:52,rowCount:s.length,rowRenderer:({index:t,style:n})=>(0,r.jsx)("div",{style:n,children:(0,r.jsx)(e,{index:t})},t)})},g=()=>{const{search:e,setSearch:t}=(0,_.A)();return(0,r.jsx)(d.vji,{after:null,value:e,onChange:e=>t(e.currentTarget.value)})},f=({onChange:e,items:t,ListItem:n})=>{const{width:s,ref:o,style:d}=(0,a.A)(),l=(0,i.A)();return(0,r.jsxs)(c.A,{items:t,onChange:e,children:[(0,r.jsx)("div",{ref:o,style:d}),(0,r.jsx)(g,{}),(0,r.jsx)(u,{ListItem:n,width:s,height:l})]})};s()}catch(e){s(e)}}))},15200:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(96540),r=n(2346);const a=()=>{const e=(0,s.useContext)(r.A);if(!e)throw new Error("useConfirmList must be used within a ConfirmListProvider");return e}},11002:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=e?.filter((e=>"banned"===e.deactivated)),n=e?.filter((e=>"deleted"===e.deactivated)),s=e?.filter((e=>!e.photo_100||e.photo_100.includes(".png"))),r=e?.filter((e=>!e.can_write_private_message));return{banned:t,deleted:n,noAvatar:s,noCanWrite:r,all:e}}},95416:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=Math.floor(Date.now()/1e3),n=86400,s=[n,259200,604800,2592e3,7776e3,15724800,31536e3],r=[1,2,3,4,5,6,7],a=e.filter((e=>e.last_seen&&e.last_seen.time)),i=s.map(((e,n)=>({period:e,key:r[n],users:a.filter((n=>t-(n.last_seen?.time||0)>e))}))),o=["recently","last_week","last_month","long_ago"].map((t=>({period:0,key:t,users:e.filter((e=>e.online_info?.status===t))})));return i.concat(o)}},5211:(e,t,n)=>{n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>f});var r=n(74848),a=n(7139),i=n(1883),o=n(8015),d=n(27514),l=n(39107),c=n(96540),_=n(11002),h=n(95416),u=n(86222),g=e([a,o]);[a,o]=g.then?(await g)():g;const f=({friends:e,onSelectedFriends:t,selectCategoryLabel:n,warningLabel:s,confirmButtonLabelKey:g,topChildren:f})=>{const A=(0,o.A)(),[p,m]=(0,c.useState)({deleted:!1,banned:!1,noAvatar:!1,all:!1,noCanWrite:!1,period:0}),y=e=>{m((t=>({...t,[e]:!t[e]})))},{banned:v,deleted:C,noAvatar:w,all:x,noCanWrite:b}=(0,c.useMemo)((()=>(0,_.A)(e)),[e]),j=(0,c.useMemo)((()=>(0,h.A)(e)),[e]),I={0:A.use("settings_option_not_selected"),1:A.use("settings_cleaner_friends_category_period_day_1"),2:A.use("settings_cleaner_friends_category_period_days_3"),3:A.use("settings_cleaner_friends_category_period_week"),4:A.use("settings_cleaner_friends_category_period_month"),5:A.use("settings_cleaner_friends_category_period_month_3"),6:A.use("settings_cleaner_friends_category_period_month_6"),7:A.use("settings_cleaner_friends_category_period_year"),recently:A.use("settings_cleaner_friends_category_period_recently"),last_week:A.use("settings_cleaner_friends_category_period_last_week"),last_month:A.use("settings_cleaner_friends_category_period_last_month"),long_ago:A.use("settings_cleaner_friends_category_period_long_ago"),not_show:A.use("settings_cleaner_friends_category_period_not_show")},k=(0,c.useMemo)((()=>{const e=j.map((e=>{const t=e.users?.length||0;return{disabled:0===t,value:`${e.key}`,label:`${I[e.key]} (${t})`}}));return e.unshift({value:"0",label:I[0]}),e}),[j]),S=(0,c.useMemo)((()=>{if(p.all)return x;const e=new Set([]),t=t=>{for(const n of t)e.add(n)};p.deleted&&t(C),p.banned&&t(v),p.noAvatar&&t(w),p.noCanWrite&&t(b);const n=j.find((e=>e.key===p.period));return n&&t(n.users),Array.from(e)}),[j,x,C,v,w,b,p.all,p.deleted,p.banned,p.noAvatar,p.period,p.noCanWrite]),L=!0===p.all;return(0,r.jsxs)(i.A,{children:[f,(0,r.jsxs)(l.eIh,{top:n,children:[(0,r.jsx)(l.Sc0,{disabled:0===x.length,onChange:()=>y("all"),checked:p.all,children:A.use("settings_cleaner_friends_category_all",{count:x.length})}),(0,r.jsx)(l.Sc0,{disabled:0===C.length||L,onChange:()=>y("deleted"),checked:p.deleted,children:A.use("settings_cleaner_friends_category_deleted",{count:C.length})}),(0,r.jsx)(l.Sc0,{disabled:0===v.length||L,onChange:()=>y("banned"),checked:p.banned,children:A.use("settings_cleaner_friends_category_banned",{count:v.length})}),(0,r.jsx)(l.Sc0,{disabled:0===w.length||L,onChange:()=>y("noAvatar"),checked:p.noAvatar,children:A.use("settings_cleaner_friends_category_no_avatar",{count:w.length})}),(0,r.jsx)(l.Sc0,{disabled:0===b.length||L,onChange:()=>y("noCanWrite"),checked:p.noCanWrite,children:A.use("settings_cleaner_friends_category_no_can_write",{count:b.length})})]}),(0,r.jsx)(l.eIh,{top:A.use("settings_cleaner_friends_category_period_title"),className:u.A.ClearFriends__longTime,children:(0,r.jsx)(l.l6P,{disabled:L,value:`${p.period}`,options:k,onChange:e=>{m((t=>({...t,period:Number(e.target.value)||e.target.value})))}})}),(0,d.A)(s)&&(0,r.jsx)(l.iau,{children:(0,r.jsx)(l.lZ$,{extraSubtitle:(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:s})})}),(0,r.jsx)(l.eIh,{children:(0,r.jsx)(l.$nd,{mode:"primary",stretched:!0,size:"m",disabled:0===S.length,onClick:()=>t(S),after:(0,r.jsx)(a.A.Prime,{}),children:A.use(g,{count:S.length})})})]})};s()}catch(e){s(e)}}))},4255:(e,t,n)=>{n.d(t,{A:()=>r});const s=Object.freeze({isUserId:e=>e>=1&&e<19e8||e>=2e11&&e<1e12,isGroupId:e=>e<=-1&&e>-1e9,isChatId:e=>e>2e9&&e<21e8,convertChatPeerIdToChatId:e=>e-2e9,convertChatIdToChatPeerId:e=>e+2e9,isZeroOwner:e=>0===e,isUserIdTransitional:e=>(s.isUserId(e),0<e&&e<2e9)}),r=s},27514:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>void 0!==e&&!1!==e&&null!==e&&""!==e},86222:(e,t,n)=>{n.d(t,{A:()=>s});const s={ClearFriends__longTime:"mFLvCUXoYa1xmUcY"}}}]);