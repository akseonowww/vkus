"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2835],{26334:(e,t,n)=>{n.d(t,{W:()=>o});var o=(0,n(33610).mT)("Icon20CrownCircleFillVkNext","crown_circle_fill_vk_next_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="crown_circle_fill_vk_next_20"><rect width="20" height="20" fill="url(#crown_circle_fill_vk_next_20_a)" rx="10" /><path fill="#fff" fill-rule="evenodd" d="M10.549 7.138a1.14 1.14 0 0 0 .59-.999 1.14 1.14 0 1 0-1.688 1L7.844 9.54a.2.2 0 0 1-.284.051L6.167 8.585a1.135 1.135 0 0 0 .112-.494 1.14 1.14 0 1 0-1.14 1.139l.572 1.772h8.595l.555-1.772a1.14 1.14 0 1 0-1.023-.636l-1.393 1.007a.2.2 0 0 1-.283-.051L10.55 7.138ZM6 12.202h8l-.128.622a1.723 1.723 0 0 1-1.688 1.376H7.817a1.723 1.723 0 0 1-1.687-1.374L6 12.202Z" clip-rule="evenodd" /><defs><linearGradient id="crown_circle_fill_vk_next_20_a" x1="17" x2="3" y1="3" y2="17" gradientUnits="userSpaceOnUse"><stop offset="0%" style="stop-color:#8a13d6;stop-opacity:1" /><stop offset="100%" style="stop-color:#7d81ff;stop-opacity:1" /></linearGradient></defs></symbol>',20,20,!1,void 0)},39307:(e,t,n)=>{n.d(t,{b:()=>o});var o=(0,n(33610).mT)("Icon24ExternalLinkOutline","external_link_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="external_link_outline_24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M5.146 3.634c.762-.407 1.512-.534 3.082-.534H10.1a.9.9 0 1 1 0 1.8H8.228c-1.487 0-1.87.128-2.233.322-.336.18-.594.437-.773.773-.194.362-.322.746-.322 2.233v7.544c0 1.487.128 1.87.322 2.233.18.336.437.594.773.774.362.193.746.321 2.233.321h7.544c1.487 0 1.87-.128 2.233-.321.336-.18.594-.438.774-.774.193-.362.321-.746.321-2.233V13.9a.9.9 0 1 1 1.8 0v1.872c0 1.57-.127 2.32-.534 3.082a3.646 3.646 0 0 1-1.512 1.512c-.763.407-1.512.534-3.082.534H8.228c-1.57 0-2.32-.127-3.082-.534a3.647 3.647 0 0 1-1.512-1.512c-.407-.762-.534-1.512-.534-3.082V8.228c0-1.57.127-2.32.534-3.082a3.647 3.647 0 0 1 1.512-1.512z" /><path d="M14 4a.9.9 0 0 1 .9-.9H20a.9.9 0 0 1 .9.9v5.1a.9.9 0 1 1-1.8 0V6.173l-6.564 6.563a.9.9 0 1 1-1.272-1.272L17.827 4.9H14.9A.9.9 0 0 1 14 4z" /></g></symbol>',24,24,!1,void 0)},6962:(e,t,n)=>{n.d(t,{k:()=>o});var o=(0,n(93543).mT)("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 8" id="dropdown_12"><path fill="currentColor" fill-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052" clip-rule="evenodd" /></symbol>',12,8,!1,void 0)},11617:(e,t,n)=>{n.d(t,{$:()=>o});var o=(0,n(93543).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},73615:(e,t,n)=>{n.d(t,{V:()=>o});var o=(0,n(93543).mT)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.144 2.298l-.009.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25M10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17M3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},52509:(e,t,n)=>{n.d(t,{z:()=>o});var o=(0,n(93543).mT)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="more_horizontal_24"><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2" /></symbol>',24,24,!1,void 0)},40411:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>g});var s=n(74848),r=n(56287),i=n(8015),l=n(90275),a=n(27514),c=n(99381),d=n(39307),h=n(73615),u=n(52509),_=n(39107),p=e([i]);i=(p.then?(await p)():p)[0];const g=({helpLink:e,actions:t})=>{const n=(0,i.A)(),o=(0,r.A)(),p=()=>{window.open(window.location.href),window.close()};return e||(0,a.A)(t)?(0,s.jsx)(l.Ku,{placement:"bottom-end",actions:(0,s.jsxs)(s.Fragment,{children:[(0,a.A)(t)&&(0,s.jsxs)(s.Fragment,{children:[t,(o||e)&&(0,s.jsx)(l.AS,{})]}),o&&(0,s.jsx)(l.vH,{onClick:p,leftIcon:(0,s.jsx)(d.b,{width:20,height:20}),children:n.use("settings_open_settings")}),e&&(0,s.jsx)(l.vH,{href:e,target:"_blank",leftIcon:(0,s.jsx)(h.V,{}),children:n.use("settings_menu_help_section")})]}),children:(0,s.jsx)(_.qAe,{onClick:c.A,children:(0,s.jsx)(u.z,{})})}):o?(0,s.jsx)(_.m_M,{description:n.use("settings_open_settings"),placement:"bottom",usePortal:!0,children:(0,s.jsx)(_.qAe,{onClick:p,children:(0,s.jsx)(d.b,{})})}):null};o()}catch(e){o(e)}}))},56287:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(91691),s=n(15033);const r=()=>{const e=(0,s.l)();return((e.width||0)<=800||(e.height||0)<=600)&&!(0,o.A)()}},48276:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(48139);const s=()=>{const e=(0,o.A)();if(!e)throw new Error("");return[e[1],e[3],e[5],e[7]]}},85252:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(48139);const s=()=>{const e=(0,o.A)();if(!e)throw new Error("");return[e[0],e[2],e[4],e[6]]}},58207:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>a});var s=n(74848),r=n(39107),i=n(9535),l=e([i]);i=(l.then?(await l)():l)[0];const a=({after:e,...t})=>(0,s.jsx)(r.aOn,{...t,after:(0,s.jsxs)(s.Fragment,{children:[e,(0,s.jsx)(i.A,{})]})});o()}catch(e){o(e)}}))},9535:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>x});var s=n(74848),r=n(22549),i=n(57087),l=n(90275),a=n(33258),c=n(99381),d=n(6962),h=n(11617),u=n(39107),_=n(96540),p=n(57610),g=n(78230),w=n(8015),v=e([r,w]);[r,w]=v.then?(await v)():v;const f="vknext_cleaner_groups",m=({children:e})=>{const t=(0,w.A)(),{hints8:n,updateValue:o}=(0,r.A)("hints8");return(0,s.jsx)(u.PyT,{description:t.use("settings_menu_cleaner_onboarding_user_manager"),shown:!n.includes(f),onClose:()=>{o(Array.from(new Set([...n,f])))},offsetByCrossAxis:-20,placement:"bottom-end",children:e})},x=()=>{const[e,t]=(0,_.useState)(!1),[n,o]=(0,_.useState)(new Map),{viewer:r}=(0,i.ur)(),w=(0,p.F9)(),{setGroupId:v}=(0,p.Re)(),f=(0,p.Cf)();(0,_.useEffect)((()=>{const e=new Map;r&&e.set(0,{groupId:0,title:`${r.first_name} ${r.last_name}`,photo:r.photo_200,isNFT:r.is_nft});for(const t of f)e.set(t.id,{groupId:t.id,title:t.name,photo:t.photo_200});o(e)}),[r,f]);const x=Array.from(n.values()),y=(0,_.useMemo)((()=>n.has(w)?n.get(w):0===w?{groupId:0,title:`${r?.first_name} ${r?.last_name}`,photo:r?.photo_200,isNFT:r?.is_nft}:null),[w,n,r]),A=(0,s.jsxs)(u.qAe,{onClick:c.A,hasActive:!1,hovered:!!e||void 0,className:g.A.UserManagerButton,children:[(0,s.jsx)(a.A,{size:28,src:y?.photo,isNFT:y?.isNFT,wrapperClassName:g.A.UserManagerButton__avatar,imgCustomProps:{loading:"lazy"}}),(0,s.jsx)(d.k,{className:(0,u.xWm)(g.A.UserManagerButton__chevron,e&&g.A["UserManagerButton__chevron--rotated"])})]});return(0,s.jsx)(l.Ku,{placement:"bottom-end",useScrollView:!0,actionsMenuClassName:g.A.UserManagerPopover__scroll,actions:(0,s.jsx)(s.Fragment,{children:x.map((e=>(0,s.jsx)(l.vH,{leftIcon:(0,s.jsx)(a.A,{size:20,src:e.photo,isNFT:e.isNFT}),rightIcon:(0,s.jsx)(h.$,{visibility:w===e.groupId?"visible":"hidden"}),onClick:()=>v(e.groupId),children:e.title},e.groupId)))}),onShownChange:t,children:(0,s.jsx)("div",{children:(0,s.jsx)(m,{children:A})})})};o()}catch(e){o(e)}}))},57189:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>h});var s=n(74848),r=n(48276),i=n(85252),l=n(8015),a=n(26334),c=n(39107),d=e([l]);l=(d.then?(await d)():d)[0];const h=()=>{const e=(0,l.A)(),[t]=(0,i.A)(),[n]=(0,r.A)();return n||!t?null:(0,s.jsx)(c.YJl,{children:(0,s.jsx)(c.OrA,{noPadding:!0,style:{padding:17},icon:(0,s.jsx)(a.W,{width:48,height:48}),title:e.use("settings_deluxe_not_activated"),action:(0,s.jsx)(c.$nd,{size:"m",href:"https://vknext.net/prime",target:"_blank",children:e.use("settings_prime_more_info")}),children:e.use("settings_deluxe_not_activated_info")})})};o()}catch(e){o(e)}}))},42835:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.r(t),n.d(t,{default:()=>_});var s=n(74848),r=n(40411),i=n(56287),l=n(8015),a=n(39107),c=n(58207),d=n(57189),h=n(58006),u=e([r,l,c,d]);[r,l,c,d]=u.then?(await u)():u;const _=()=>{const e=(0,l.A)(),t=(0,h.A)(),n=(0,i.A)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{after:(0,s.jsx)(r.A,{}),children:e.use("settings_menu_cleaner_title")}),(0,s.jsxs)(a.guY,{style:{maxHeight:t},children:[(0,s.jsx)(a.YJl,{children:(0,s.jsxs)(a.OrA,{title:e.use("settings_cleaner_select_category_title"),action:n&&(0,s.jsx)(a.$nd,{size:"m",onClick:()=>{window.open(window.location.href),window.close()},children:e.use("settings_open_settings")}),children:[e.use("settings_cleaner_select_category_text"),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),e.use("settings_cleaner_select_category_recommended")]})]})}),(0,s.jsx)(d.A,{})]})]})};o()}catch(e){o(e)}}))},57610:(e,t,n)=>{n.d(t,{Re:()=>d,F9:()=>c,Cf:()=>h});var o=n(74225),s=n.n(o),r=n(59914),i=n(52370);const l=async function*(e){const t=await i.vkapiWrapper.groups.get({offset:0,count:0,extended:1,filter:e}),n=t?.count??0;if(yield{count:n,offset:0,items:[]},0===n)return;let o=0;for(;o<n;){const{items:t}=await i.vkapiWrapper.groups.get({offset:o,count:1e3,extended:1,filter:e});if(0===t.length)break;yield{count:n,offset:o,items:t||[]},o+=1e3}};const a=(0,n(81621).vt)((e=>({groupId:0,setGroupId:t=>e({groupId:t}),myGroups:new Set,setMyGroups:t=>e({myGroups:t})}))),c=()=>a((e=>e.groupId)),d=()=>a((0,r.k)((e=>({setGroupId:e.setGroupId})))),h=()=>{const e=a((e=>e.myGroups)),t=a((e=>e.setMyGroups));return s()((async n=>{if(e.size>0)return;const o=new Set;for await(const{count:e,items:t}of l(["moder"])){if(!n())return;if(0===e)break;for(const e of t)o.add(e)}n()&&t(o)}),[e]),e}},15033:(e,t,n)=>{n.d(t,{l:()=>s});var o=n(96540);const s=()=>{const[e,t]=(0,o.useState)({width:window.innerWidth,height:window.innerHeight,lastWidth:void 0,lastHeight:void 0}),n=()=>{t({lastWidth:e.width,lastHeight:e.height,width:window.innerWidth,height:window.innerHeight})};return(0,o.useEffect)((()=>{n()}),[]),(0,o.useEffect)((()=>(window.addEventListener("resize",n),()=>window.removeEventListener("resize",n))),[e]),e}},27514:(e,t,n)=>{n.d(t,{A:()=>o});const o=e=>void 0!==e&&!1!==e&&null!==e&&""!==e},78230:(e,t,n)=>{n.d(t,{A:()=>o});const o={UserManagerButton:"ogFOzGoL7cdUYpnv",UserManagerButton__avatar:"SkrgVk_lLfBWPUj9",UserManagerButton__chevron:"iPuWS1BkgbrX6Fln","UserManagerButton__chevron--rotated":"EssjnVlsetnzNtGQ",UserManagerPopoverItem__avatar:"JBQwdYo1lnviskP_",UserManagerPopover__scroll:"XDWErLYzOe41Z7vM"}}}]);