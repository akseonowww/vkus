"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1346,1192,2721,5544],{17100:(e,t,n)=>{n.d(t,{Ay:()=>i,Fs:()=>l,Hb:()=>r});var o=n(74848),a=n(96540);const s=(0,a.createContext)(null),c=()=>{const e=(0,a.useContext)(s);if(!e)throw new Error("CustomModalPageContext has not been passed in provider");return e},r=()=>{const e=c();return{closeModal:()=>e.setOpen(!1)}},l=()=>{const{onClose:e,onClosed:t,onOpen:n,onOpened:o,open:a,setOpen:s}=c();return{open:a,setOpen:s,onClose:e,onClosed:t,onOpen:n,onOpened:o}},i=({onClose:e,onClosed:t,onOpen:n,onOpened:c,...r})=>{const[l,i]=(0,a.useState)(!0);return(0,o.jsx)(s.Provider,{value:{open:l,setOpen:i,onClose:e,onClosed:t,onOpen:n,onOpened:c},...r})}},81506:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(31381),a=n(14943);const s=()=>document.querySelector('.side_bar_ol,[class*="LeftMenuOld__container--"]'),c=async()=>{await(0,o.A)(),await(0,a.A)();const e=s();return e||new Promise((e=>{const t=setInterval((()=>{if(!document.querySelector(".left_menu_nav_wrap,#ads_left,#left_blocks"))return;const n=s();n&&(clearInterval(t),e(n))}),1e3)}))}},89950:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(53644),a=n(8169),s=n(39107),c=n(36976);const r=({href:e,target:t,leftIcon:n,label:r,onClick:l,onSettingsClick:i})=>{const d=document.createElement("li");d.className=c.A.LeftMenuItem__container;const u=document.createElement("a");u.className=c.A.LeftMenuItem__item,e&&(u.href=e,u.target=t||"_blank"),d.appendChild(u),l&&u.addEventListener("click",l);const m=document.createElement("div");m.className=c.A.LeftMenuItem__icon;const p=(0,o.A)(n);p.setAttribute("width","20"),p.setAttribute("height","20"),m.appendChild(p);const f=document.createElement("div");f.className=(0,s.xWm)(c.A.LeftMenuItem__label,"vknextInternalLeftMenu__label");const _=document.createElement("span");if(_.textContent=r,f.appendChild(_),u.append(m,f),i){const e=document.createElement("button");e.tabIndex=-1,e.ariaHidden="true",e.className=(0,s.xWm)(c.A.LeftMenuItem__settings,"vknextInternalLeftMenu__settings"),e.addEventListener("click",i);const t=(0,o.A)(a.A);t.setAttribute("aria-hidden","true"),t.setAttribute("display","block"),t.classList.add("vkuiIcon","vkuiIcon--16","vkuiIcon--w-16","vkuiIcon--h-16","vkuiIcon--settings_24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","16"),t.setAttribute("height","16"),t.style.width="16px",t.style.height="16px";for(const e of t.querySelectorAll("#settings_24,g"))e.id="";e.appendChild(t),d.appendChild(e)}return d}},23526:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(39107),a=n(36976);const s=()=>{const e=document.createElement("div");e.className=(0,o.xWm)(a.A.LeftMenuItem__Separator,"vknextInternalLeftMenu__separator");const t=document.createElement("hr");return t.className=a.A.LeftMenuItem__Separator__in,e.appendChild(t),e}},85659:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.r(t);var a=n(57580),s=n(43027),c=n(14943),r=n(81506),l=n(93819),i=n(43024),d=n(81192),u=n(92243),m=n(12721),p=n(89950),f=n(23526),_=n(36976),A=e([a]);a=(A.then?(await A)():A)[0];const h=e=>{if(e)return[...e.classList].some((e=>!!e.includes("LeftMenu__separator")||(!!e.includes("LeftMenuOld__separator--")||(!!e.includes("vkuiSeparator")||!!e.includes("__separator--")))))},b=()=>{for(const e of document.querySelectorAll(`.${_.A.LeftMenuItem__container},.${_.A.LeftMenuItem__Separator}`))e.remove()},v=async(e,t)=>{await(0,c.A)(),b();const o=await(0,r.A)(),a=[];if(h(o.lastElementChild)||!t&&!e.length||a.push((0,f.A)()),t){const e=(await n.e(5640).then(n.bind(n,85640))).default,t=await l.A;a.push((0,p.A)({leftIcon:e,label:t.use("vkcom_vkcc"),onClick:m.default,onSettingsClick:()=>(0,d.default)("#/leftMenu")}))}if(e?.length&&t&&a.push((0,f.A)()),e?.length){const{getIcon:t}=await n.e(5302).then(n.bind(n,65302));for(const{icon:n,name:o,link:c,target:r}of e)a.push((0,p.A)({leftIcon:t(n,20),label:o,href:c,target:r,onClick:e=>{if("_self"===r){const t=new URL(c);[window.location.hostname,"vk.com","vk.ru"].includes(t.hostname)&&((0,s.A)(e),window.nav.go(c))}},onSettingsClick:()=>(0,d.default)("#/leftMenu/customLinks")}))}o.append(...a)},g=()=>{v(i.default.getValue("customSideBar"),i.default.getValue("vkcc"))},y=async()=>{g(),(0,u.A)(g),i.default.addChangeKeyListener("vkcc",((e,t)=>{v(i.default.getValue("customSideBar"),t)})),i.default.addChangeKeyListener("customSideBar",((e,t)=>{v(t,i.default.getValue("vkcc"))}))};0,i.default.onInited(y),o()}catch(e){o(e)}}))},92243:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(67992),a=n(5305);const s=new o.A;let c=!1;const r=async()=>{c||(c=!0,(0,a.A)((e=>{const[,t,n]=e;if(["a_toggle_admin_fast","a_change_services"].includes(t.act)){const{onDone:e}=n;n.onDone=function(...t){Reflect.apply(e,this,t);for(const e of s.listeners)e()}}return e})))},l=e=>{const t=s.addListener(e);return r(),t}},12721:(e,t,n)=>{n.d(t,{default:()=>a});var o=n(89307);const a=async()=>{const{default:e}=await Promise.all([n.e(2551),n.e(7983),n.e(2020),n.e(3543),n.e(181),n.e(8486),n.e(7555)]).then(n.bind(n,17810));return(0,o.A)(e)}},61685:(e,t,n)=>{n.d(t,{l:()=>o});const o="vknext/settings"},81192:(e,t,n)=>{n.d(t,{default:()=>r});var o=n(82050),a=n(14943),s=n(4107),c=n(61685);const r=async e=>{(await(0,s.A)()).go(c.l),e&&(await(0,a.A)(),await(0,o.A)(100),window.location.hash=e)}},3068:(e,t,n)=>{n.d(t,{A:()=>i,P:()=>r});var o=n(74848),a=n(31381),s=n(12527);const c=document.createElement("div"),r=()=>c,l=async e=>{if(e._reactRoot)return e._reactRoot;const{createRoot:t}=await Promise.all([n.e(2551),n.e(5338)]).then(n.t.bind(n,5338,19));return e._reactRoot||(e._reactRoot=t(e)),e._reactRoot},i=async({root:e,portal:t,content:r,disablePortal:i,disableParentTransformForPositionFixedElements:d,wrapperProps:u,disableConfig:m,disableAppRoot:p,disableAnchorTextDecoration:f=!0,noStyling:_=!1})=>{if(m){const t=await l(e);return t.render(r),{unmount:()=>{t.render(null)}}}t||(await(0,a.A)(),document.body.contains(c)||document.body.appendChild(c));const A=t||c;A.classList.add(s.A.ReactAppConfig);const[h,{default:b}]=await Promise.all([l(e),Promise.all([n.e(2551),n.e(7983),n.e(2020),n.e(6735)]).then(n.bind(n,49302))]),v=[s.A.ReactAppConfig];f?(v.push(s.A["ReactAppConfig--disableAnchorTextDecoration"]),A.classList.add(s.A["ReactAppConfig--disableAnchorTextDecoration"])):A.classList.remove(s.A["ReactAppConfig--disableAnchorTextDecoration"]),u?.className&&v.push(u.className);const g=(0,o.jsx)(b,{disablePortal:i,portalRoot:A,disableParentTransformForPositionFixedElements:d,disableAppRoot:p,mode:_?"partial":"embedded",children:r});return _?h.render(g):h.render((0,o.jsx)("div",{className:v.join(" "),style:u?.style||{},children:g})),{unmount:()=>{h.render(null)}}}},89307:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(74848),a=n(17100),s=n(3068);const c="d32BOj2kmVxWOEmy";let r=null,l=!1;const i=()=>{l||(l=!0,r=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden")},d="--vknext--z_index_modal",u=async(e,{zIndex:t}={})=>{const n=document.createElement("div"),u=document.createElement("div");t&&(n.className=c,u.className=c,u.style.setProperty(d,t.toString()),n.style.setProperty(d,t.toString())),document.body.appendChild(n),document.body.appendChild(u);const{unmount:m}=await(0,s.A)({root:n,portal:u,content:(0,o.jsx)(a.Ay,{onOpen:i,onClosed:()=>{setTimeout((()=>{l&&(l=!1,null!==r&&(document.body.style.overflow=r,r=null))}),100),setTimeout((()=>{m(),n.remove(),u.remove()}),1e3)},children:"function"==typeof e?(0,o.jsx)(e,{}):e}),disableParentTransformForPositionFixedElements:!0,disableAnchorTextDecoration:!0})}},53644:(e,t,n)=>{n.d(t,{A:()=>a});let o=0;const a=e=>{const t=!!document.importNode;let n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;t&&(n=document.importNode(n,!0));for(const e of n.querySelectorAll("title,desc"))e.remove();for(const e of n.querySelectorAll("[id]")){if(!e.id)continue;const t="vknext_icon-"+o++;let a=!1;for(const o of n.querySelectorAll(`[fill="url(#${e.id})"]`))o.setAttribute("fill",`url(#${t})`),a=!0;a&&(e.id=t)}return n}},43027:(e,t,n)=>{n.d(t,{A:()=>o});const o=e=>{e.preventDefault?.(),e.stopPropagation?.(),e.stopImmediatePropagation?.()}},31381:(e,t,n)=>{n.d(t,{A:()=>a});let o=null;const a=async e=>document.body?document.body:o&&!e?o:(o=new Promise((e=>{if(document.body)return e(document.body);const t=new MutationObserver((()=>{document.body&&(e(document.body),t.disconnect())}));t.observe(document.documentElement,{childList:!0})})),await o)},36976:(e,t,n)=>{n.d(t,{A:()=>o});const o={LeftMenuItem__container:"QgLYsKAN1X6_Zhbi",LeftMenuItem__item:"tEosQQc03x34wQ3M",LeftMenuItem__icon:"vzWdKWXW_BsTMhKL",LeftMenuItem__label:"mubGu_Rq_Uk1fxb3",LeftMenuItem__Separator:"sFK17VRqEF_s43af",LeftMenuItem__Separator__in:"XtiiYo87W2_ipl8E",LeftMenuItem__settings:"FVYxG2b4J917e04s"}},12527:(e,t,n)=>{n.d(t,{A:()=>o});const o={"ReactAppConfig--disableAnchorTextDecoration":"eKp499l1uSMoyJtd",ReactAppConfig:"DWqlBEDzWSmYIYBM",ReactAppConfig__AppRoot:"W2ycDunObNZrVjYu"}}}]);