"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2117,5544],{17100:(e,t,o)=>{o.d(t,{Ay:()=>l,Fs:()=>s,Hb:()=>c});var n=o(74848),i=o(96540);const r=(0,i.createContext)(null),a=()=>{const e=(0,i.useContext)(r);if(!e)throw new Error("CustomModalPageContext has not been passed in provider");return e},c=()=>{const e=a();return{closeModal:()=>e.setOpen(!1)}},s=()=>{const{onClose:e,onClosed:t,onOpen:o,onOpened:n,open:i,setOpen:r}=a();return{open:i,setOpen:r,onClose:e,onClosed:t,onOpen:o,onOpened:n}},l=({onClose:e,onClosed:t,onOpen:o,onOpened:a,...c})=>{const[s,l]=(0,i.useState)(!0);return(0,n.jsx)(r.Provider,{value:{open:s,setOpen:l,onClose:e,onClosed:t,onOpen:o,onOpened:a},...c})}},22924:(e,t,o)=>{o.d(t,{h:()=>s,y:()=>d});var n=o(39107),i=o(53339),r=o(53644);const a={large:i.A["ActionsMenuAction--size-large"],regular:i.A["ActionsMenuAction--size-regular"],max:i.A["ActionsMenuAction--size-max"]},c={primary:i.A["ActionsMenuAction--primary"],secondary:i.A["ActionsMenuAction--secondary"],danger:i.A["ActionsMenuAction--danger"],warning:i.A["ActionsMenuAction--warning"]},s=({leftIcon:e,rightIcon:t,title:o,subtitle:s,type:l="secondary",size:d="regular",isActive:u=!1,isLoading:_,titleClassName:p,onClick:m,href:g,target:A})=>{const v=document.createElement(g?"a":"button");if(g&&v.setAttribute("href",g),A&&v.setAttribute("target",A),v.className=(0,n.xWm)(i.A.ActionsMenuAction,i.A["ActionsMenuAction--hover"],(m||g)&&i.A["ActionsMenuAction--clickable"],c[l],_&&i.A["ActionsMenuAction--loading"],u&&i.A["ActionsMenuAction--active"],a[d]),m&&v.addEventListener("click",m),e){const t=document.createElement("i");t.className=i.A.ActionsMenuAction__icon,t.append((0,r.A)(e)),v.appendChild(t)}const f=document.createElement("span");if(f.className=(0,n.xWm)(i.A.ActionsMenuAction__title,p),f.textContent=o,s){const e=document.createElement("span");e.className=i.A.ActionsMenuAction__subtitle,e.textContent=s,f.appendChild(e)}if(v.appendChild(f),t){const e=document.createElement("i");e.className=i.A.ActionsMenuAction__icon,e.append((0,r.A)(t)),v.appendChild(e)}return v};var l=o(44511);const d=({className:e})=>{const t=document.createElement("div");return t.role="separator",t.className=(0,n.xWm)(l.A.ActionsMenuActionSeparator,e),t}},92128:(e,t,o)=>{o.d(t,{A:()=>p});var n=o(1145),i=o(67992),r=o(38729),a=o(47648);const c=["#reforged-modal-root",".VKCOMMessenger__reforgedModalRoot","#fastchat-reforged-modals"].join(","),s=new i.A,l=(0,r.sr)(),d=e=>{if(!e[l]){e[l]=!0;for(const t of s.listeners)t(e)}},u=()=>{for(const e of document.querySelectorAll(c))d(e)};let _=!1;const p=e=>{const t=s.addListener(e);return(0,n.A)(u),_||(_=!0,(0,a.A)((e=>{const t=e.closest(".vkui__root");if(t)for(const e of t.querySelectorAll(c))d(e)}))),t}},47648:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(49032),i=o(1145),r=o(14943),a=o(67992),c=o(38729),s=o(4107);const l=(0,c.sr)(),d=new a.A,u=()=>{if(document.querySelector(".im-page:not(.im-page_group)"))return void setTimeout(u,1e3);const e=document.querySelector("#reforged-root,.VKCOMMessenger__reforgedRoot");e?e.querySelector(".VKCOMMessenger__skeletonWrapper")?setTimeout(u,500):(e=>{if(!e[l]){e[l]=!0;for(const t of d.listeners)t(e)}})(e):0===document.getElementById("wrap3")?.children.length&&setTimeout(u,500)},_=async e=>{if(document.getElementsByClassName("im-page")[0]&&!e)return void(0,i.A)((()=>_(!0)));const t=await(0,s.A)();u(),t.onLocationChange((async e=>{await(0,r.A)(),n.lz.test(e)&&u()}))};let p=!1;const m=e=>{const t=d.addListener(e);return(0,i.A)(u),p||(p=!0,_()),t}},45939:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(49032),i=(o(98570),o(4107)),r=o(73737);class a extends r.A{async initClear(){if(this.isClearInit)return;this.isClearInit=!0;const e=(await(0,i.A)()).onLocationChange((t=>{t.startsWith("im")||n.lz.test(t)||(this.clear(),e(),this.isClearInit=!1)}))}}const c=new a},67078:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(74848),i=o(3068),r=o(75511);const a=document.createElement("div");a.className=r.A.Snackbars;const c=async e=>{const t=(await Promise.all([o.e(2551),o.e(7983),o.e(2020),o.e(3543),o.e(7759)]).then(o.bind(o,28582))).default;document.body.contains(a)||document.body.appendChild(a);const r=document.createElement("div");a.appendChild(r);const{unmount:c}=await(0,i.A)({root:r,content:(0,n.jsx)(t,{onClose:()=>{c(),r.remove(),0===a.children.length&&a.remove()},...e}),disableParentTransformForPositionFixedElements:!0,noStyling:!0})}},72853:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(82050),i=o(1145),r=o(84436),a=o(22924),c=o(93819),s=o(43024),l=o(24560),d=o(91797),u=o(68331);const _=new r.A,p=e=>{e>0?(_.innerContent=`#reforged-modal-root .MEPopper .ActionsMenu.Clip__ActionsMenu{width:auto;min-width:150px}#reforged-modal-root .MEPopper .ActionsMenu.Clip__ActionsMenu>.ActionsMenuAction:last-child{margin-bottom:calc(${e} * 32px + 9px)}`,_.use(!0)):_.use(!1)},m=()=>{let e=0;s.default.getValue("enableBtnGraffiti")&&(e+=1),s.default.getValue("enableBtnAudio")&&(e+=1),s.default.getValue("enableBtnVideoMessage")&&(e+=1),p(e),_.use(!0),s.default.addListener(((e,t={})=>{let o=0;t.enableBtnGraffiti&&(o+=1),t.enableBtnAudio&&(o+=1),t.enableBtnVideoMessage&&(o+=1),p(o)}))};s.default.onInited((()=>(0,i.A)(m)));const g=async e=>{await(0,n.A)(0);const t=e.querySelector(".ActionsMenu");if(!t)return!1;const i=s.default.getValue("enableBtnGraffiti"),r=s.default.getValue("enableBtnAudio"),_=s.default.getValue("enableBtnVideoMessage");(i||r||_)&&t.append((0,a.y)({}));const p=await c.A;if(i){const{default:e}=await o.e(7539).then(o.bind(o,97539));t.append((0,a.h)({title:p.use("vkcom_graffiti"),leftIcon:e,onClick:d.A}))}if(r){const{default:e}=await o.e(4980).then(o.bind(o,74980));t.append((0,a.h)({title:p.use("vkcom_audio_message"),leftIcon:e,onClick:l.A}))}if(_){const{default:e}=await o.e(9009).then(o.bind(o,89009));t.append((0,a.h)({title:p.use("vkcom_video_message"),leftIcon:e,onClick:u.A}))}return!0}},26981:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(4255),i=o(43027),r=o(90265),a=o(50551),c=o(96632),s=o(12049),l=o(97368),d=o(92940),u=o(22924),_=o(93819),p=o(52968),m=o(11860),g=o(37573),A=o(65123),v=o(25620);const f=(e,t)=>{const o=(0,m.A)(e,Math.abs((0,p.A)())),n=(0,u.h)({title:o?t.use("vkcom_action_item_off_unreads"):t.use("vkcom_action_item_on_unreads"),leftIcon:o?l.A:r.A,onClick:o=>{(0,A.A)(e),(0,i.A)(o),n.replaceWith(f(e,t))}});return n},h=(e,t)=>{const o=(0,g.A)(e,Math.abs((0,p.A)())),n=(0,u.h)({title:o?t.use("vkcom_action_item_off_unwriters"):t.use("vkcom_action_item_on_unwriters"),leftIcon:o?d.A:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" height="20" viewBox="0 0 20 20" width="20"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M 13.269531 2.707031 C 12.722656 3.066406 9.417969 6.386719 9.417969 6.574219 C 9.417969 6.644531 9.503906 6.847656 9.589844 7.039062 C 9.863281 7.535156 10.445312 7.429688 11.164062 6.730469 L 11.816406 6.097656 L 12.875 7.140625 L 13.9375 8.203125 L 13.304688 8.886719 C 12.601562 9.675781 12.601562 9.65625 12.84375 10.121094 C 13.21875 10.804688 13.75 10.515625 15.617188 8.597656 C 18.132812 6.042969 18.21875 5.445312 16.371094 3.613281 C 15.429688 2.6875 15.171875 2.515625 14.539062 2.449219 C 13.988281 2.398438 13.648438 2.464844 13.269531 2.707031 Z M 15.359375 4.65625 C 16.234375 5.515625 16.285156 5.925781 15.582031 6.59375 L 15.050781 7.089844 L 14.007812 6.027344 L 12.945312 4.984375 L 13.441406 4.453125 C 13.714844 4.179688 14.09375 3.9375 14.28125 3.9375 C 14.46875 3.9375 14.964844 4.265625 15.359375 4.65625 Z M 15.359375 4.65625"></path><path d="M 3.902344 3.542969 C 3.734375 3.597656 3.542969 3.820312 3.492188 4.058594 C 3.390625 4.433594 3.613281 4.726562 5.359375 6.472656 L 7.363281 8.476562 L 4.898438 10.957031 C 2.226562 13.648438 2.054688 13.9375 2.054688 15.71875 C 2.054688 17.363281 2.707031 17.980469 4.453125 17.980469 C 6.042969 17.980469 6.59375 17.652344 9.160156 15.070312 L 11.558594 12.671875 L 13.457031 14.570312 C 15.121094 16.234375 15.429688 16.472656 15.804688 16.371094 C 16.042969 16.320312 16.265625 16.113281 16.335938 15.890625 C 16.421875 15.546875 15.566406 14.640625 10.566406 9.625 C 7.347656 6.386719 4.589844 3.679688 4.453125 3.613281 C 4.316406 3.542969 4.058594 3.511719 3.902344 3.542969 Z M 9.503906 10.617188 L 10.53125 11.644531 L 8.390625 13.800781 C 7.207031 14.984375 6.042969 16.0625 5.789062 16.199219 C 5.53125 16.335938 4.929688 16.4375 4.453125 16.4375 L 3.597656 16.4375 L 3.597656 15.566406 C 3.597656 15.085938 3.679688 14.539062 3.785156 14.332031 C 3.972656 13.957031 8.21875 9.589844 8.390625 9.589844 C 8.441406 9.589844 8.9375 10.050781 9.503906 10.617188 Z M 9.503906 10.617188"></path></g></svg>',onClick:o=>{(0,v.A)(e),(0,i.A)(o),n.replaceWith(h(e,t))}});return n},k=(e,t)=>(0,u.h)({leftIcon:c.A,title:t.use("vkcom_convo_action_open_convo_profile"),onClick:()=>{const t=new URL(window.location.href);t.searchParams.set("rp",`peer${e}`),nav.go(t.pathname+t.search)}}),b=async(e,t)=>{const o=e.querySelector(".ActionsMenu");if(!o)return!1;const{peerId:i}=t.props.children.props.convo,r=await _.A,c=[k(i,r)];if(n.A.isUserId(i)){const e=`https://vk.com/id${i}`;c.push((0,u.h)({leftIcon:a.A,title:r.use("vkcom_convo_action_open_profile"),href:e,target:"_blank",onClick:()=>{window.open(e,"_blank")}}))}else if(n.A.isGroupId(i)){const e=`https://vk.com/club${Math.abs(i)}`;c.push((0,u.h)({leftIcon:s.A,title:r.use("vkcom_convo_action_open_group"),href:e,target:"_blank",onClick:()=>{window.open(e,"_blank")}}))}return o.prepend(...c,(0,u.y)({}),h(i,r),f(i,r),(0,u.y)({})),!0}},97833:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(95728),i=o(22924),r=o(93819),a=o(74848),c=o(89307);const s=async e=>{const{default:t}=await o.e(2031).then(o.bind(o,2031));return(0,c.A)((0,a.jsx)(t,{...e}))},l=async(e,t)=>{const{fiber:o}=(0,n.A)(t),a=o?.return?.memoizedProps?.message,c=a?.peerId,l=a?.authorId;if(!c||!l)return!1;const d=e.querySelector(".ActionsMenu");if(!d)return!1;const u=await r.A;return d.append((0,i.y)({}),(0,i.h)({title:u.use("vkcom_convo_member_action_ban_custom"),onClick:async()=>{await s({peerId:c,authorId:l})}})),!0}},23016:(e,t,o)=>{o.a(e,(async(e,n)=>{try{o.r(t);var i=o(57580),r=o(95728),a=o(14943),c=o(38729),s=o(92128),l=o(45939),d=o(43024),u=o(72853),_=o(26981),p=o(97833),m=o(25804),g=o(72512),A=e([i]);i=(A.then?(await A)():A)[0];const v=(0,c.NS)(),f=e=>{const t=e.closest("#fastchat-reforged-modals,#reforged-modal-root,.VKCOMMessenger__reforgedModalRoot");return!!t&&t.querySelector(".MessageActionsContent__wrapper,.MessageActionsContent__wrapper--with-reactions")},h=async e=>{for(const t of e)for(const e of t.addedNodes){if(1!==e.nodeType)continue;await(0,a.A)();const t=e.querySelector(".DropdownReforged__contentWrapper,.ContextMenu__contentWrapper");if(!t)continue;const o=(0,r.A)(t);if(!o.props)continue;const n=o.props.children?.props?.className||"";if(n.startsWith("Clip__ActionsMenu"))return void(0,u.A)(t).catch(console.error);if(n.startsWith("BurgerMenu__actionsMenu"))return void(0,m.A)(t).catch(console.error);if(t.querySelector(".ConvoMainActionsMenu"))return void 0;if(n.startsWith("ConvoListItem__actionsMenu"))return void(0,_.A)(t,o).catch(console.error);const i=f(t);if(n.includes("ActionsMenu--dropdown")&&i){return void(i.querySelector(".ActionsMenuAction--active .vkuiIcon--message_cross_outline_20,.ActionsMenuAction:hover .vkuiIcon--message_cross_outline_20")&&(0,p.A)(t,i).catch(console.error))}const c=o.props.children?.props?.message,s=o.props.children?.props?.convo;if(s&&!c)return void(0,_.A)(t,o).catch(console.error);if(c)return void(0,g.A)(t,o).catch(console.error)}},k=e=>{e[v]||(e[v]=new MutationObserver(h),e[v].observe(e,{childList:!0}),e.parentElement!==document.body&&l.A.add(e))};let b=null;const C=()=>{b&&(b(),b=null),b=(0,s.A)(k)};0,d.default.onInited(C),n()}catch(e){n(e)}}))},25804:(e,t,o)=>{o.d(t,{A:()=>l});const n=()=>'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.08 3.5C5.42 3.5 5.06 3.67 4.72 3.85C4.34 4.05 4.05 4.35 3.85 4.72C3.67 5.06 3.5 5.42 3.5 7.08V12.92C3.5 14.58 3.67 14.94 3.85 15.28C4.05 15.66 4.35 15.95 4.72 16.15C5.06 16.33 5.42 16.5 7.08 16.5H12.92C14.58 16.5 14.94 16.33 15.28 16.15C15.66 15.95 15.95 15.65 16.15 15.28C16.33 14.94 16.5 14.58 16.5 12.92V7.08C16.5 5.42 16.33 5.06 16.15 4.72C15.95 4.34 15.65 4.05 15.28 3.85C14.94 3.67 14.58 3.5 12.92 3.5H7.08ZM4.01 2.53C4.66 2.18 5.31 2 7.08 2H12.92C14.69 2 15.34 2.18 15.99 2.53C16.63 2.87 17.13 3.37 17.47 4.01C17.82 4.66 18 5.31 18 7.08V12.92C18 14.69 17.82 15.34 17.47 15.99C17.1383 16.6187 16.6264 17.134 16 17.47C15.35 17.82 14.7 18 12.93 18H7.08C5.31 18 4.66 17.82 4.01 17.47C3.38132 17.1383 2.86598 16.6264 2.53 16C2.18 15.35 2 14.7 2 12.93V7.08C2 5.31 2.18 4.66 2.53 4.01C2.87 3.37 3.37 2.87 4.01 2.53Z" fill="currentColor"/><path d="M13.5 11.55C13.5139 11.8963 13.4439 12.2409 13.2959 12.5543C13.1479 12.8677 12.9263 13.1407 12.65 13.35C12.35 13.58 12.01 13.75 11.65 13.85C11.28 13.95 10.82 14 10.25 14H7V6H9.87C10.47 6 10.92 6.02 11.22 6.07C11.53 6.11 11.82 6.21 12.09 6.35C12.39 6.5 12.6 6.71 12.74 6.97C12.89 7.22 12.96 7.52 12.96 7.86C12.96 8.25 12.86 8.6 12.66 8.9C12.46 9.2 12.19 9.43 11.84 9.57V9.62C12.34 9.72 12.74 9.93 13.04 10.26C13.34 10.57 13.5 11.01 13.5 11.55ZM10.89 8.26C10.8888 8.12063 10.8545 7.98353 10.79 7.86C10.725 7.7232 10.6107 7.61603 10.47 7.56C10.34 7.51 10.17 7.48 9.99 7.48L9.17 7.47H9.03V9.16H9.29L10.02 9.15C10.16 9.15 10.31 9.1 10.45 9.04C10.5991 8.97912 10.7202 8.86509 10.79 8.72C10.85 8.59 10.89 8.44 10.89 8.26ZM11.39 11.51C11.4054 11.3068 11.3564 11.1038 11.25 10.93C11.1318 10.7823 10.9713 10.6741 10.79 10.62C10.66 10.57 10.49 10.54 10.27 10.54L9.41 10.53H9.03V12.53H10.24C10.44 12.52 10.65 12.47 10.86 12.38C11.0293 12.3123 11.1705 12.1888 11.26 12.03C11.36 11.88 11.4 11.71 11.4 11.51H11.39Z" fill="currentColor"/></svg>',i=()=>'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.01 2.53C4.66 2.18 5.31 2 7.08 2H12.92C14.69 2 15.34 2.18 15.99 2.53C16.63 2.87 17.13 3.37 17.47 4.01C17.82 4.66 18 5.31 18 7.08V12.92C18 14.69 17.82 15.34 17.47 15.99C17.1383 16.6187 16.6264 17.134 16 17.47C15.35 17.82 14.7 18 12.93 18H7.08C5.31 18 4.66 17.82 4.01 17.47C3.38132 17.1383 2.86598 16.6264 2.53 16C2.18 15.35 2 14.7 2 12.93V7.08C2 5.31 2.18 4.66 2.53 4.01C2.87 3.37 3.37 2.87 4.01 2.53ZM15.28 16.15C14.94 16.33 14.58 16.5 12.92 16.5H9V3.5H12.92C14.58 3.5 14.94 3.67 15.28 3.85C15.66 4.05 15.95 4.35 16.15 4.72C16.33 5.06 16.5 5.42 16.5 7.08V12.92C16.5 14.58 16.33 14.94 16.15 15.28C15.95 15.66 15.65 15.95 15.28 16.15ZM7.08 3.5C5.42 3.5 5.06 3.67 4.72 3.85C4.34 4.05 4.05 4.35 3.85 4.72C3.67 5.06 3.5 5.42 3.5 7.08V12.92C3.5 14.58 3.67 14.94 3.85 15.28C4.05 15.66 4.35 15.95 4.72 16.15C5.06 16.33 5.42 16.5 7.08 16.5H7.5V3.5H7.08Z" fill="currentColor"/></svg>';var r=o(22924),a=o(93819),c=o(67078),s=o(2519);const l=async e=>{const t=e.querySelector(".vkuiIcon--gear_outline_20");if(!t)return!1;const o=t.closest(".ActionsMenuAction");if(!o)return!1;const l=o.parentElement,d=await a.A,{store:u,browserEnv:_}=await(0,s.A)(),p=!u.getState().VKCOMRightColumnConvos.isVisible;return l.append((0,r.h)({title:d.use(p?"vkcom_change_ui_new":"vkcom_change_ui_classic"),leftIcon:p?i():n(),onClick:async()=>{try{await window.vkApi.api("messages.setConfig",{config:JSON.stringify({reforged_enabled:p?"disabled":"enabled"})}),window.location.replace("/im")}catch{(0,c.A)({type:"error",text:_.lang.use("me_switch_interface_modal_error")})}}})),!0}},72512:(e,t,o)=>{o.d(t,{A:()=>A});var n=o(37445),i=o(84110),r=o(43061),a=o(14443),c=o(32488),s=o(22924),l=o(93819),d=o(52968),u=o(2519),_=o(43024),p=o(74848),m=o(89307);const g=async e=>{const{default:t}=await Promise.all([o.e(3543),o.e(2838),o.e(2295),o.e(8108),o.e(3506),o.e(340),o.e(1013),o.e(4199)]).then(o.bind(o,48336));return(0,m.A)((0,p.jsx)(t,{messageId:e}))},A=async(e,t)=>{const p=e.querySelector(".ActionsMenu");if(!p)return!1;const m=await l.A,{props:A}=t.props.children,v=A.message,f=(await(0,u.A)()).store.getState().convos.get(v.peerId),{updatedAt:h,cmid:k}=v,{peerId:b}=f,C=!!f.unreadReactions&&f.unreadReactions.has(v.cmid),y=v.authorId!==window.vk.id&&(w=f,(M=v).peerId===w.peerId&&("Queued"===M.kind||(M.isOut?M.cmid>w.outReadBy:M.cmid>w.inReadBy)));var w,M;const x=_.default.getValue("showAttachDownloadButtons")&&(Object.keys(v.attaches).length>0||(v.forwardedMessages?.length??0)>0),I=h&&await(async()=>!(!_.default.getValue("showMessageHistory")||!await(0,c.default)()))();return(I||y||C||x)&&p.append((0,s.y)({})),I&&p.append((0,s.h)({title:m.use("vkcom_message_action_editing_history"),leftIcon:r.A,rightIcon:i.A,onClick:async()=>{const{items:e}=await window.vkApi.api("messages.getByConversationMessageId",{conversation_message_ids:k,peer_id:b,group_id:(0,d.A)()});let t=e[0]?.id;if(!t){const{default:e}=await o.e(1691).then(o.bind(o,31691)),n=Object.values(await e.getStorage()).flat().find((e=>e.peer_id===b&&("NewMessage"===e.kind?e.conversation_message_id===k:e.conversationMessageId===k)));t=n?.id}await g(t)}})),(y||C)&&p.append((0,s.h)({title:m.use("vkcom_message_action_mark_read"),leftIcon:a.A,onClick:async()=>{await window.vkApi.api("messages.markAsRead",{peer_id:b,up_to_cmid:v.cmid,mark_conversation_as_read:1,group_id:(0,d.A)()})}})),x&&p.append((0,s.h)({title:m.use("vkcom_message_action_download_attaches"),leftIcon:n.A,onClick:async()=>{const{default:e}=await Promise.all([o.e(9381),o.e(4412),o.e(4064)]).then(o.bind(o,49357));await e(v)}})),!0}},24560:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(2551),o.e(7983),o.e(2020),o.e(3543),o.e(8287)]).then(o.bind(o,88726));return(0,n.A)(e,{zIndex:501})}},91797:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(2551),o.e(7983),o.e(2020),o.e(3543),o.e(3444)]).then(o.bind(o,5109));return(0,n.A)(e,{zIndex:501})}},68331:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(2551),o.e(7983),o.e(2020),o.e(3543),o.e(3250)]).then(o.bind(o,65539));return(0,n.A)(e,{zIndex:501})}},3068:(e,t,o)=>{o.d(t,{A:()=>l,P:()=>c});var n=o(74848),i=o(31381),r=o(12527);const a=document.createElement("div"),c=()=>a,s=async e=>{if(e._reactRoot)return e._reactRoot;const{createRoot:t}=await Promise.all([o.e(2551),o.e(5338)]).then(o.t.bind(o,5338,19));return e._reactRoot||(e._reactRoot=t(e)),e._reactRoot},l=async({root:e,portal:t,content:c,disablePortal:l,disableParentTransformForPositionFixedElements:d,wrapperProps:u,disableConfig:_,disableAppRoot:p,disableAnchorTextDecoration:m=!0,noStyling:g=!1})=>{if(_){const t=await s(e);return t.render(c),{unmount:()=>{t.render(null)}}}t||(await(0,i.A)(),document.body.contains(a)||document.body.appendChild(a));const A=t||a;A.classList.add(r.A.ReactAppConfig);const[v,{default:f}]=await Promise.all([s(e),Promise.all([o.e(2551),o.e(7983),o.e(2020),o.e(6735)]).then(o.bind(o,49302))]),h=[r.A.ReactAppConfig];m?(h.push(r.A["ReactAppConfig--disableAnchorTextDecoration"]),A.classList.add(r.A["ReactAppConfig--disableAnchorTextDecoration"])):A.classList.remove(r.A["ReactAppConfig--disableAnchorTextDecoration"]),u?.className&&h.push(u.className);const k=(0,n.jsx)(f,{disablePortal:l,portalRoot:A,disableParentTransformForPositionFixedElements:d,disableAppRoot:p,mode:g?"partial":"embedded",children:c});return g?v.render(k):v.render((0,n.jsx)("div",{className:h.join(" "),style:u?.style||{},children:k})),{unmount:()=>{v.render(null)}}}},89307:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(74848),i=o(17100),r=o(3068);const a="d32BOj2kmVxWOEmy";let c=null,s=!1;const l=()=>{s||(s=!0,c=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden")},d="--vknext--z_index_modal",u=async(e,{zIndex:t}={})=>{const o=document.createElement("div"),u=document.createElement("div");t&&(o.className=a,u.className=a,u.style.setProperty(d,t.toString()),o.style.setProperty(d,t.toString())),document.body.appendChild(o),document.body.appendChild(u);const{unmount:_}=await(0,r.A)({root:o,portal:u,content:(0,n.jsx)(i.Ay,{onOpen:l,onClosed:()=>{setTimeout((()=>{s&&(s=!1,null!==c&&(document.body.style.overflow=c,c=null))}),100),setTimeout((()=>{_(),o.remove(),u.remove()}),1e3)},children:"function"==typeof e?(0,n.jsx)(e,{}):e}),disableParentTransformForPositionFixedElements:!0,disableAnchorTextDecoration:!0})}},52968:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(4255),i=o(1003);const r=()=>{if(window.cur.gid&&n.A.isGroupId(window.cur.gid))return window.cur.gid;const e=(0,i.A)();return n.A.isGroupId(e)?e:0}},65123:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(52968),i=o(43024),r=o(11860);const a=e=>{"string"==typeof e&&(e=parseInt(e));const t=Math.abs((0,n.A)()),o=i.default.getValue("silentreadinclgim"),a=i.default.getValue("silentreadexclgim");let c=o[t]||[],s=a[t]||[],l=!1;return t||(c=i.default.getValue("silentreadincl"),s=i.default.getValue("silentreadexcl")),(0,r.A)(e,t)?(c.includes(e)&&c.splice(c.indexOf(e),1),s.includes(e)||s.push(e),l=!1):(s.includes(e)&&s.splice(s.indexOf(e),1),c.includes(e)||c.push(e),l=!0),t?(o[t]=c,a[t]=s,i.default.setValue("silentreadinclgim",o),i.default.setValue("silentreadexclgim",a)):(i.default.setValue("silentreadincl",c),i.default.setValue("silentreadexcl",s)),l}},25620:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(52968),i=o(43024),r=o(37573);const a=e=>{"string"==typeof e&&(e=parseInt(e));const t=Math.abs((0,n.A)()),o=i.default.getValue("silentwriteinclgim"),a=i.default.getValue("silentwriteexclgim");let c=o[t]||[],s=a[t]||[],l=!1;return t||(c=i.default.getValue("silentwriteincl"),s=i.default.getValue("silentwriteexcl")),(0,r.A)(e,t)?(c.includes(e)&&c.splice(c.indexOf(e),1),s.includes(e)||s.push(e),l=!1):(s.includes(e)&&s.splice(s.indexOf(e),1),c.includes(e)||c.push(e),l=!0),t?(o[t]=c,a[t]=s,i.default.setValue("silentwriteinclgim",o),i.default.setValue("silentwriteexclgim",a)):(i.default.setValue("silentwriteincl",c),i.default.setValue("silentwriteexcl",s)),l}},49032:(e,t,o)=>{o.d(t,{Fl:()=>a,XZ:()=>r,hj:()=>i,lz:()=>n});const n=/(^|\/)al_im\.php|(^|\/)im(\?|$)|(^|\/)gim\d+|\/write-?\d+/,i=/(^|\/)al_im\.php|(^|\/)im(\?|$)|\/write-?\d+|\/im\/.*/,r={"--accent":"--vkui--color_icon_accent","--background_content":"--vkui--color_background_content","--background_highlighted":"--vkui--color_transparent--active","--background_hover":"--vkui--color_transparent--hover","--background_light":"--vkui--color_background_tertiary","--background_page":"--vkui--color_background","--background_suggestions":"--vkui--color_background_modal","--button_commerce_background":"--vkui--color_text_positive","--button_secondary_background":"--vkui--color_background_secondary_alpha","--button_secondary_destructive_foreground":"--vkui--color_background_negative","--content_tint_background":"--vkui--color_background_secondary","--content_warning_background":"--vkui--color_background_warning","--counter_prominent_text":"--vkui--color_text_contrast","--destructive":"--vkui--color_text_negative","--dynamic_gray":"--vkui--color_accent_gray","--dynamic_green":"--vkui--color_accent_green","--dynamic_orange":"--vkui--color_accent_orange","--dynamic_purple":"--vkui--color_accent_purple","--dynamic_red":"--vkui--color_accent_red","--dynamic_violet":"--vkui--color_accent_violet","--dynamic_blue":"--vkui--color_accent_blue","--dynamic_raspberry_pink":"--vkui--color_accent_raspberry_pink","--field_background":"--vkui--color_field_background","--field_border":"--vkui--color_field_border_alpha","--field_error_background":"--vkui--color_background_negative_tint","--field_error_border":"--vkui--color_stroke_negative","--field_valid_border":"--vkui--color_stroke_positive","--header_background":"--vkui--color_header_background","--header_tint_alternate":"--vkui--color_icon_accent_themed","--icon_alpha_placeholder":"--vkui--color_icon_contrast","--icon_medium_alpha":"--vkui--color_icon_medium_alpha","--icon_medium":"--vkui--color_icon_medium","--icon_secondary_alpha":"--vkui--color_icon_secondary_alpha","--icon_secondary":"--vkui--color_icon_secondary","--icon_tertiary_alpha":"--vkui--color_icon_tertiary_alpha","--icon_tertiary":"--vkui--color_icon_tertiary","--image_border":"--vkui--color_image_border_alpha","--input_background":"--vkui--color_write_bar_input_background","--input_border":"--vkui--color_write_bar_input_border_alpha","--link_alternate":"--vkui--color_text_link_themed","--loader_track_fill":"--vkui--color_track_background","--loader_track_value_fill":"--vkui--color_track_buffer","--placeholder_icon_background_opaque":"--vkui--color_image_placeholder_alpha","--placeholder_icon_background":"--vkui--color_image_placeholder","--search_bar_field_background":"--vkui--color_search_field_background","--segmented_control_bar_background":"--vkui--color_segmented_control","--separator_alpha":"--vkui--color_separator_primary_alpha","--separator_alternate":"--vkui--color_separator_secondary","--separator_common":"--vkui--color_separator_primary","--skeleton_foreground_from":"--vkui--color_skeleton_from","--skeleton_foreground_to":"--vkui--color_skeleton_to","--text_link":"--vkui--color_text_link","--text_muted":"--vkui--color_text_muted","--text_primary":"--vkui--color_text_primary","--text_secondary":"--vkui--color_text_secondary","--text_subhead":"--vkui--color_text_subhead","--text_tertiary":"--vkui--color_text_tertiary","--writebar_icon":"--vkui--color_write_bar_icon","--gray_400":"--vkui--color_text_secondary","--gray_500":"--vkui--color_text_subhead","--gray_600":"--vkui--color_text_subhead","--gray_900":"--vkui--color_text_muted","--im_forward_line_tint":"--vkui--vkontakte_color_im_forward_line_alpha","--im_bubble_incoming":"--vkui--vkontakte_color_im_bubble_incoming","--im_bubble_incoming_alternate":"--vkui--vkontakte_color_im_bubble_incoming_alternate","--im_bubble_incoming_expiring":"--vkui--vkontakte_color_im_bubble_incoming_expiring","--im_bubble_border_alternate_highlighted":"--vkui--vkontakte_color_im_bubble_border_alternate_highlighted_alpha","--modal_card_background":"--vkui--color_background_modal","--im_bubble_outgoing":"--vkui--vkontakte_color_im_bubble_outgoing"},a=1e3},53644:(e,t,o)=>{o.d(t,{A:()=>i});let n=0;const i=e=>{const t=!!document.importNode;let o=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;t&&(o=document.importNode(o,!0));for(const e of o.querySelectorAll("title,desc"))e.remove();for(const e of o.querySelectorAll("[id]")){if(!e.id)continue;const t="vknext_icon-"+n++;let i=!1;for(const n of o.querySelectorAll(`[fill="url(#${e.id})"]`))n.setAttribute("fill",`url(#${t})`),i=!0;i&&(e.id=t)}return o}},43027:(e,t,o)=>{o.d(t,{A:()=>n});const n=e=>{e.preventDefault?.(),e.stopPropagation?.(),e.stopImmediatePropagation?.()}},31381:(e,t,o)=>{o.d(t,{A:()=>i});let n=null;const i=async e=>document.body?document.body:n&&!e?n:(n=new Promise((e=>{if(document.body)return e(document.body);const t=new MutationObserver((()=>{document.body&&(e(document.body),t.disconnect())}));t.observe(document.documentElement,{childList:!0})})),await n)},75511:(e,t,o)=>{o.d(t,{A:()=>n});const n={Snackbars:"fuEF5ymRhcBAxInE",BaseSnackbar:"Fu47p889xWCKEooV"}},12527:(e,t,o)=>{o.d(t,{A:()=>n});const n={"ReactAppConfig--disableAnchorTextDecoration":"eKp499l1uSMoyJtd",ReactAppConfig:"DWqlBEDzWSmYIYBM",ReactAppConfig__AppRoot:"W2ycDunObNZrVjYu"}},53339:(e,t,o)=>{o.d(t,{A:()=>n});const n={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh"}},44511:(e,t,o)=>{o.d(t,{A:()=>n});const n={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}}}]);