"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[7451,5544,5560],{85560:(e,n,t)=>{t.d(n,{default:()=>a});var s=t(79384),o=t(52815);const a=async()=>{const e=await(0,o.A)(),n=(0,s.A)(e[0][1]),t=(0,s.A)(e[1][1]);return!!(107<=n&&n<=110&&107<=t&&t<=110)}},15609:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(74848),o=t(75623),a=t(39107);const c="j5noyirksU4hOAMT",i="FT_f_JIawX_phtyc",r=({children:e})=>(0,s.jsx)(o.A,{trigger:"click",placement:"top-start",usePortal:document.body,shown:!0,defaultShown:!0,disableCloseOnClickOutside:!0,disableCloseOnEscKey:!0,content:e,className:c,children:(0,s.jsx)(a.s6o,{className:i})})},42:(e,n,t)=>{t.a(e,(async(e,s)=>{try{t.r(n),t.d(n,{default:()=>v});var o=t(74848),a=t(39107),c=t(96540),i=t(87675),r=t(15609),l=t(9453),d=t(43170),u=t(9349),f=t(2565),h=t(66745),p=e([i]);i=(p.then?(await p)():p)[0];const _=400,m=400,A=({children:e})=>(0,o.jsx)(a.guY,{className:l.A.VidPopover__content,style:{height:m,width:_},children:e}),g=({query:e})=>{const n=(0,i.A)(),{isLoading:t,predictions:s}=(0,h.A)(e),[r,l]=(0,c.useState)(!1);(0,c.useEffect)((()=>{null!==!s&&l(!1)}),[s]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(A,{children:[(0,o.jsx)(a.EYj,{children:s}),t&&(0,o.jsx)("div",{className:f.A.ResultThinking})]}),(0,o.jsx)(a.iau,{children:(0,o.jsx)(a.$nd,{stretched:!0,onClick:async()=>{s&&(l(!0),await(0,d.A)(s),l(!1),(0,u.e8)())},loading:r,disabled:r||null===s,children:n.use("global_send")})})]})},v=({query:e})=>(0,o.jsx)(r.A,{children:(0,o.jsx)(g,{query:e})});s()}catch(e){s(e)}}))},66745:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(96540),o=t(74225),a=t.n(o),c=t(88908),i=t(36008);const r=e=>{const[n,t]=(0,s.useState)(!0),[o,r]=(0,s.useState)(null);return a()((async n=>{if(!n())return;t(!0),r(null);const s=(0,c.A)(e).trim(),o="https://api.aicloud.sbercloud.ru/public/v1/public_inference/gpt3/predict";await i.default.sendMessage("vkn-b-aath",new URL(o).origin+"/*");const a=await fetch(o,{headers:{"content-type":"application/json"},body:JSON.stringify({text:s}),method:"POST"});n()&&(r((await a.json()).predictions),n()&&t(!1))}),[e]),{isLoading:n,predictions:o}}},43170:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(85560),o=t(93819),a=t(43024),c=t(43139),i=t(82050);const r=async e=>{const n=await o.A,t=a.default.getValue("inlineRemoveWatermark"),r=(0,c.Mf)();if(r){(0,c.t$)();const o=document.querySelector(".ConvoComposer__input");o&&(o.textContent=await(0,s.default)()&&t?"":`via [club207165415|${n.use("global_app_name")}]<br/>${e}`),await(0,i.A)(500),r&&r.click()}const l=document.getElementsByClassName("im_editable")[0];if(l){const s=t?e:`via [club207165415|${n.use("global_app_name")}]<br/>${e}`;l.setValue(s),window.Emoji.editableFocus(l,!1,!0)}const d=(0,c.Ay)();d&&(d.classList.add("im-send-btn_audio"),d.classList.remove("im-send-btn_send"),d.classList.remove("im-send-btn_loading"),d.style.pointerEvents=""),d&&d.click()}},87675:(e,n,t)=>{t.a(e,(async(e,s)=>{try{t.d(n,{A:()=>a});var o=t(93819);const e=await o.A,a=()=>e;s()}catch(e){s(e)}}),1)},75623:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(74848),o=t(39107),a=t(96540),c=t(61166);const i=({hideOnClick:e=!1,noBackground:n=!1,mode:t,onClick:i,onShownChange:r,className:l,contentWrapperClassName:d,shown:u,content:f,...h})=>{const[p,_]=(0,a.useState)(!1),m=(0,a.useRef)(null),A=(0,a.useRef)(null),g=(0,a.useCallback)((e=>{e?_(!0):m.current=setTimeout((()=>{_(!1)}),100),r?.(e)}),[t,r,_]);return(0,a.useEffect)((()=>{"boolean"==typeof u&&g(u)}),[u,g]),(0,s.jsx)(o.AMh,{shown:p,className:(0,o.xWm)(c.A.PopoverReforged,n&&c.A["PopoverReforged--noBackground"],l),onShownChange:g,onClick:e=>{if("side"===t&&m.current)clearTimeout(m.current);else try{i?.(e)}catch(e){console.error(e)}},content:(0,s.jsx)("div",{ref:A,className:(0,o.xWm)(d),onClick:n=>{e&&A.current?.contains(n.target)&&_(!1)},children:f}),...h})}},88908:(e,n,t)=>{t.d(n,{A:()=>o});const s=document.createElement("textarea"),o=e=>(s.innerHTML=e,s.innerText)},2565:(e,n,t)=>{t.d(n,{A:()=>s});const s={ResultThinking:"oaDpSnMMJcBBp0DH",pulseSize:"L4jcurQtt8DF4dng"}},9453:(e,n,t)=>{t.d(n,{A:()=>s});const s={VidPopover__content:"_HSvZOAY5tIpoGx1",VidBlock__preview:"AkNPPF1XvnhMn36O"}},61166:(e,n,t)=>{t.d(n,{A:()=>s});const s={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}},40961:(e,n,t)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=t(22551)},74225:(e,n,t)=>{var s=t(96540);function o(e,n,t){var o="function"==typeof n;s.useEffect((function(){var t,s=!0,a=e((function(){return s}));return Promise.resolve(a).then((function(e){t=e})),function(){s=!1,o&&n(t)}}),o?t:n)}e.exports=o,e.exports.useAsyncEffect=o}}]);