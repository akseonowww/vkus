"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[4639],{74639:(e,a,n)=>{n.r(a),n.d(a,{default:()=>l});var t=n(387),s=n(98570);const r=async e=>{const{storage:a}=(0,s.A)().browserApi;return await a.local.set({spyning:e})};let i,o=0;const c=()=>(i&&(0,t.A)()-o<=3||(i=new Promise((async e=>{const{storage:a}=(0,s.A)().browserApi;e((await a.local.get("spyning")).spyning||{})})),o=(0,t.A)()),i),l={getData:async e=>(await c())[e]||{friends:[],events:{}},async setData(e,a){const n={...await c()};return n[e]=a,o=0,await r(n)},async clearEventList(e){const a=await c();a[e]?a[e].events={}:a[e]={events:{},friends:[]},o=0,await r(a)},addListener(e){const{storage:a}=(0,s.A)().browserApi;return{remove:a.local.onChanged.addListener("spyning",(a=>e(a.oldValue,a.newValue)))}}}}}]);