"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[9013,7302],{37322:(e,a,n)=>{n.d(a,{M:()=>t});var t=(0,n(93543).mT)("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0M4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},84833:(e,a,n)=>{n.d(a,{A:()=>r});var t=n(74848),o=n(39107),s=n(96540),l=n(17100);const r=({children:e,noClose:a=!1,...n})=>{const{open:r,setOpen:i,onClose:c,onClosed:d,onOpen:u,onOpened:p}=(0,l.Fs)(),m=(0,s.useId)();return(0,t.jsx)(o.VWm,{nav:m,open:r,onClose:(e,n)=>{a||(i(!1),c?.(e,n))},onClosed:d,onOpen:u,onOpened:p,...n,children:(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(o.qBl,{}),children:e})})}},67078:(e,a,n)=>{n.d(a,{A:()=>r});var t=n(74848),o=n(3068),s=n(75511);const l=document.createElement("div");l.className=s.A.Snackbars;const r=async e=>{const a=(await Promise.all([n.e(2551),n.e(7983),n.e(2020),n.e(3543),n.e(7759)]).then(n.bind(n,28582))).default;document.body.contains(l)||document.body.appendChild(l);const s=document.createElement("div");l.appendChild(s);const{unmount:r}=await(0,o.A)({root:s,content:(0,t.jsx)(a,{onClose:()=>{r(),s.remove(),0===l.children.length&&l.remove()},...e}),disableParentTransformForPositionFixedElements:!0,noStyling:!0})}},99013:(e,a,n)=>{n.a(e,(async(e,t)=>{try{n.d(a,{default:()=>w});var o=n(74848),s=n(4255),l=n(37322),r=n(39107),i=n(96540),c=n(74225),d=n.n(c),u=n(84833),p=n(67078),m=n(87675),h=n(97302),f=n(50684),g=e([m]);m=(g.then?(await g)():g)[0];const v=new Map,w=({ownerId:e})=>{const a=(0,m.A)(),[n,t]=(0,i.useState)(v.get(e)||null),[c,g]=(0,i.useState)(!1),[w,x]=(0,i.useState)(""),b=(0,i.useRef)(null),y=w&&w.trim().length>0;return d()((async a=>{const n=await h.default.getName(e);a()&&(x(n||""),g(!1),b.current&&b.current.focus())}),[e]),d()((async a=>{if(null===n)if(s.A.isUserId(e)){const n=(await window.vkApi.api("users.get",{user_ids:e}))[0];if(!a())return;t([n.first_name,n.last_name].filter(Boolean).join(" "))}else if(s.A.isGroupId(e)){const{groups:n}=await window.vkApi.api("groups.getById",{group_ids:-e}),o=n[0];if(!a())return;t(o.name)}}),[n,e]),(0,o.jsx)(u.A,{header:(0,o.jsx)(r.aO9,{children:a.use("vkcom_local_rename")}),children:(0,o.jsxs)(r.iau,{children:[(0,o.jsx)(r.eIh,{children:(0,o.jsx)(r.pde,{disabled:null===n,type:"text",placeholder:n||a.use("global_loading"),value:w,onChange:e=>x(e.target.value),getRef:b,after:y&&(0,o.jsx)(r.K0,{hoverMode:"opacity","aria-label":a.use("global_clear"),onClick:async()=>{await h.default.setName(e,""),await(0,p.A)({type:"done",text:a.use("global_reload_app_modal_title")}),x("")},children:(0,o.jsx)(l.M,{})})})}),(0,o.jsx)("div",{className:f.A.RenameOwnerModal__buttons,children:(0,o.jsx)(r.$nd,{onClick:async()=>{await h.default.setName(e,w),await(0,p.A)({type:"done",text:a.use("global_reload_app_modal_title")})},disabled:c,children:a.use("global_save")})})]})})};t()}catch(e){t(e)}}))},97302:(e,a,n)=>{n.r(a),n.d(a,{default:()=>s});var t=n(53778);class o extends t.default{constructor(){super("localRename")}async getName(e){return(await this.getStorage())[e]||null}async setName(e,a){const n=await this.getStorage();""===a.trim()?delete n[e]:n[e]=a,await this.saveStorage(n)}async clearStorage(){await this.saveStorage({})}}const s=new o},75511:(e,a,n)=>{n.d(a,{A:()=>t});const t={Snackbars:"fuEF5ymRhcBAxInE",BaseSnackbar:"Fu47p889xWCKEooV"}},50684:(e,a,n)=>{n.d(a,{A:()=>t});const t={RenameOwnerModal__buttons:"EufyCTI2E8vhgRUt"}},74225:(e,a,n)=>{var t=n(96540);function o(e,a,n){var o="function"==typeof a;t.useEffect((function(){var n,t=!0,s=e((function(){return t}));return Promise.resolve(s).then((function(e){n=e})),function(){t=!1,o&&a(n)}}),o?n:a)}e.exports=o,e.exports.useAsyncEffect=o}}]);