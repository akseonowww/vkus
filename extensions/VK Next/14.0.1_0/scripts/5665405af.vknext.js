"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2661],{28861:(t,e,o)=>{o.d(e,{A:()=>s,h:()=>i});var n=o(53644);const c="XTtg3rbdke4fO2GH",a="O7g_ziCmsPZHi8tC",s=({text:t,icon:e,onClick:o,id:s})=>{const i=document.createElement("div");if(i.className="pv_more_act_item",s&&i.setAttribute("id",s),o&&i.addEventListener("click",o),e){const t=document.createElement("div");t.className=`pv_more_act_item_icon ${a}`,t.appendChild((0,n.A)(e)),i.appendChild(t),i.classList.add(c)}return i.appendChild(document.createTextNode(t)),i},i=({className:t,id:e}={})=>{const o=document.createElement("div");return o.classList.add("pv_more_act_item_sep"),e&&(o.id=e),t&&o.classList.add(t),o}},55567:(t,e,o)=>{o.d(e,{A:()=>c});var n=o(65578);const c=()=>(0,n.A)("ElementTooltip")},7602:(t,e,o)=>{o.a(t,(async(t,n)=>{try{o.r(e);var c=o(37445),a=o(38729),s=o(28861),i=o(55567),r=o(93819),d=o(43024),l=o(88298),p=o(57448),h=o(62493),m=t([l]);l=(m.then?(await m)():m)[0];const u=(0,a.sr)(),_=async()=>{const[t]=(0,h.A)(),e=window.cur.pvCurPhoto?.id||"",o=d.default.getValue("keepOriginalPhotoNamesDownload");l.N.downloadFileFromLink(t,o?(0,p.A)(t):`photo${e}.jpg`)},v=async t=>{if(t.getElementsByClassName(u).length)return;const e=await r.A;if(t.querySelector(`#${u}`))return;const o=(0,s.h)(),n=(0,s.A)({id:u,text:e.use("global_download"),onClick:_,icon:c.A});t.appendChild(o),t.appendChild(n)};(0,i.A)().then((t=>{const e=t.prototype,o=e.show;e.show=function(...t){const e=Reflect.apply(o,this,t);try{for(const t of(this._ttel||document).querySelectorAll(".pv_more_acts"))v(t).then((()=>{this.updatePosition()})).catch(console.error)}catch(t){console.error(t)}return e}})),n()}catch(t){n(t)}}))}}]);