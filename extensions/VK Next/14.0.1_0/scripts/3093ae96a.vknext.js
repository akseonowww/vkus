"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3506],{83506:(e,t,s)=>{s.d(t,{A:()=>Xe});var i=s(74848),r=s(40162),n=s(39107),a=s(96540);const d="D2dN4Khs7S5RXUUw";var o=s(87528);const l="EknRRHlm2WWiI0hS",h=({dateSeconds:e})=>(0,i.jsx)("span",{className:l,children:(0,o.Q)(e)}),c="DqabjMC3cmg5z8Hy",u="KpJpWxvRHmLIpbkx",g="uVbZWbgq2CwWDw6k";var m=s(4255);const p="EMFVxzKei1Lel9A5";var x=s(51466);const w=({message:e,isReply:t})=>{const s=(0,x.A)((e=>e.peerNames)),r=m.A.isGroupId(e.from_id)?s[e.from_id]?.name||"DELETED":s[e.from_id]?.ins||"DELETED",a=m.A.isGroupId(e.from_id)?"https://vk.com/club"+-e.from_id:`https://vk.com/id${e.from_id}`;return(0,i.jsx)("div",{className:(0,n.xWm)(p,"PeerTitle"),onClick:t?void 0:()=>window.open(a,"_blank"),children:r})};var f=s(98235);const v=({replyMessage:e})=>{const t=(0,f.A)({cmId:e.conversation_message_id}),s=e.text&&e.text.length>0;return(0,i.jsx)("div",{className:(0,n.xWm)(c),onClick:t,children:(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)(w,{message:e,isReply:!0}),(0,i.jsx)(n.$jG,{className:(0,n.xWm)(!s&&g),children:e.text||"Ответ"})]})})};var j=s(24382),_=s(28893),b=s(28542);function k(e){return void 0!==e[0]?e:[[]]}function M(e,t){const s=e/t.reduce(((e,t)=>e+t.width),0);return k(t.map((e=>({...e,height:e.height*s,width:e.width*s}))))}function y(e,t){const s=e/t.height;return{...t,height:e,width:t.width*s}}function N(e){let t=0,s=0;const i=e[0];for(const e of i)t+=e.width;for(const t of e)t[0]&&(s+=t[0].height);return t/s}function E(e,t){let s=t[0];const i=[...t,e].sort(((e,t)=>e-t)),r=i.findIndex((t=>t===e)),n=i[r-1],a=i[r+1];return!n&&a?s=a:!a&&n?s=n:a&&n&&(s=a/e>e/n?n:a),s}function S(e,t,s){return k(s.reduceRight(((s,i)=>{const r=s[s.length-1],n=y(t,i),{width:a}=n;return a+(r?r.reduce(((e,t)=>e+t.width),0):0)<=e&&r?r.push(n):s.push([n]),s}),[]).reverse().map((e=>e.reverse())).map((t=>M(e,k(t)))))}const C=[9/16,3/4,1,4/3,16/9];function $(e,t,s,i){try{const r=[],n={},a=function(e,t){const s=[t];let i=e;do{i=s[s.length-1]-.05*t,i<e&&(i=e),s.push(i)}while(i!==e);return s.filter(Boolean)}(s,t/e),d=function(e,t){return k(e.map((e=>{const s=E(e.width/e.height,t);return e.width>e.height?{...e,width:s*e.height}:{...e,height:e.width/s}})))}(i,C);for(const e of a){const s=W(S(t,e,d)),i=N(s);r.push(i),n[i]=s}const o=E(e,k(r));return o&&n[o]||S(t,s,i)}catch{return[i]}}function W(e){const t=e.length,s=k(e[t-1]),i=1===s.length;if(t<=2||!i)return e;const r=e[t-2];if(!r)return e;const n=r.reduce(((e,t)=>e+t.width),0);r.push(s[0]);const a=M(n,k(r.map((e=>y(1,e)))));return e[t-2]=a,k(e.splice(0,t-1))}const A=e=>e>0?22+10*(e-1):0,B=(e,t,s,i)=>{const r=e/t;let n=Math.max(e,220);n=Math.min(n,s);let a=n/r;a=Math.max(a,220),a=Math.min(a,i);const d=n/a,o={height:a,width:n};let l=Math.max(t,100);l=Math.min(l,i);let h=l*r;h=Math.max(h,220),h=Math.min(h,s);const c=h/l,u={height:l,width:h};return Math.abs(1-r/d)<Math.abs(1-r/c)?o:u},F="RrcxKEcGNTHhCH3n",L="AGX8lZziVomSxkbB",R="sCVGvAhR1bh2uD7E";var D=s(2012);const I=e=>void 0!==e.ext,T=({photoOrDoc:e,width:t,height:s,isGraffiti:r})=>{let n,d;I(e)?(n=`./docs/${e.owner_id}/${e.id}.${e.ext}`,d=e.url):r?(n=`./graffiti/${e.owner_id}/${e.id}.jpg`,d=e.url):(n=`./photos/${e.owner_id}/${e.id}.jpg`,d=e.orig_photo.url);const{openModal:o}=(0,D.A)(),l={width:t,height:s};let h;if(r)h=l;else{const i=(e=>{if(I(e)){const t=e.preview.photo.sizes.reduce(((e,t)=>(e[t.type]=t,e)),{}),s=t.w||t.z||t.y||t.x||t.m||t.s;return{width:s.width,height:s.height}}return{width:e.orig_photo.width,height:e.orig_photo.height}})(e);h=function(e,t,s,i){if(s<e&&i<t)return!1;const r=s/i/(e/t);return r<3&&r>1/3}(t,s,i.width,i.height)?l:void 0}const[c,u]=(0,a.useState)(n);return(0,i.jsxs)("div",{className:F,style:l,onClick:()=>{r||o(c)},children:[!r&&(0,i.jsx)("div",{className:R}),(0,i.jsx)("img",{style:h,className:L,src:c,onError:()=>{c===n&&u(d)},loading:"lazy"})]})},z="gBMq7QzGpwsSBYvN",K=({video:e,width:t,height:s})=>{const[r,n]=(0,a.useState)(!0),d=(0,a.useRef)(null),o={width:t,height:s},l=`./videos/${e.owner_id}/${e.id}.mp4`;return(0,a.useEffect)((()=>{const e=d.current;if(e){const t=()=>n(!1);return e.addEventListener("error",t),(3===e.networkState||e.error)&&t(),()=>{e.removeEventListener("error",t)}}}),[]),(0,i.jsx)("div",{className:z,style:o,children:r?(0,i.jsx)("video",{ref:d,src:l,height:s,width:t,controls:!0,preload:"metadata"}):(0,i.jsx)("iframe",{style:{border:"none"},src:e.player,height:s,width:t,allowFullScreen:!0})})},G="tcG55Jj4ZkmH85jq",Y="QuCZRmLlkd5RUE7K",q="PvWB9f8csRq0QSG3",H="wjTRojbpTbTRkjV3",P="jB1a8_YDz71ReKWP",Q="uYs7r9KPCkEj0Ujq";var V=s(78671);const Z=({gift:e,messageText:t})=>{const s=`./gifts/${e.owner_id}/${e.id}.jpg`,[r,n]=(0,a.useState)(s);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:H,children:(0,i.jsx)("div",{className:G,children:(0,i.jsx)("img",{className:Y,src:r,onError:()=>{r===s&&n(e.thumb_256)},alt:"[Подарок]"})})}),(0,i.jsxs)("div",{className:P,children:[(0,i.jsx)(V.f,{className:Q})," Подарок"]}),(0,i.jsx)("div",{className:q,children:t})]})},U="EmMEzBppDCMsvuvB",O=({text:e})=>e&&(0,i.jsx)("div",{className:U,children:e}),J=({audio:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("audio",{preload:"metadata",children:[(0,i.jsx)("source",{src:`./voices/${e.owner_id}/${e.id}.mp3`}),(0,i.jsx)("source",{src:e.link_mp3})]}),(0,i.jsx)(O,{text:e.transcript})]}),X=({video:e})=>{const[t,s]=(0,a.useState)(!0),r=(0,a.useRef)(null),n=`./video_messages/${e.owner_id}/${e.id}.mp4`;return(0,a.useEffect)((()=>{const e=r.current;if(e){const t=()=>s(!1);return e.addEventListener("error",t),()=>{e.removeEventListener("error",t)}}}),[]),(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)("video",{ref:r,height:218,width:218,disablePictureInPicture:!0,playsInline:!0,controls:!0,preload:"metadata",src:n}):(0,i.jsx)("iframe",{style:{border:"none"},src:e.player,height:218,width:218,allowFullScreen:!0}),(0,i.jsx)(O,{text:e.transcript})]})},ee="ezSWPKCr4_I0V2sg",te="Rs7vqdLDsHdzyj10",se="lAGjddKFaKcEb9L6",ie="eH7FaR7VKUqwmNwc",re=b.dY,ne=12/9;function ae(e){return e.reduce(((e,t)=>(a.isValidElement(t)&&t.props.width&&t.props.height&&e.push(t),e)),[])}const de=({underPeerName:e,gap:t,width:s,children:r,forwardLevel:a})=>(0,i.jsx)("div",{className:(0,n.xWm)(ee,e&&ie,0===a&&se),style:{maxWidth:s||"max-content","--photoAttachGap":`${t}px`},children:r}),oe=({children:e,underPeerName:t,changeMaxBubbleWidth:s,forwardLevel:r=0})=>{const n=A(r),d=re-n,o=ae(a.Children.toArray(e)),l=function(e){return ae(a.Children.toArray(e)).map(((e,t)=>a.isValidElement(e)?{width:e.props.width,height:e.props.height,i:t}:null)).filter((e=>null!==e))}(e);if((0,a.useEffect)((()=>{if(1===l.length&&s){const e=0===n?0:n+10;s(l[0].width+e)}})),0===l.length||1===l.length)return(0,i.jsx)(de,{underPeerName:t,gap:2,forwardLevel:r,children:e});const h=function(e,t,s,i){const r=$(e,t,s,i),n=2;return r.forEach((e=>e.forEach(((t,s)=>{e.length>1&&(t.width=0===s||s===e.length-1?t.width-n/2:t.width-n)})))),r}(ne,d,80,l).map((e=>e.map((e=>{const{i:t,width:s,height:i}=e,r=o[t];return a.cloneElement(r,{width:s,height:i})}))));return(0,i.jsx)(de,{underPeerName:t,width:d,gap:2,forwardLevel:r,children:h.map(((e,t)=>(0,i.jsx)("div",{className:te,children:e},t)))})},le="K_KX6PQnVzCL3clN",he="qT11iZCKcu2XYKVG",ce="OW1Zk233JKQEQ21_",ue="oN7LkWQwTpZ7SaF7",ge="UDu0YrAU00OMGknu";var me=s(49811),pe=s(18013),xe=s(42514),we=s(48513),fe=s(24673),ve=s(34046),je=s(89977),_e=s(26555);const be=({doc:e})=>{const t=(0,a.useMemo)((()=>{switch(e.type){case 1:return(0,i.jsx)(me.e,{});case 2:return(0,i.jsx)(pe.v,{width:24});case 3:case 4:return(0,i.jsx)(xe.i,{});case 5:return(0,i.jsx)(we.V,{});case 6:return(0,i.jsx)(fe.f,{});case 7:return(0,i.jsx)(ve.c,{});default:return(0,i.jsx)(je.z,{})}}),[e.type]);return(0,i.jsx)("a",{className:le,href:e.url,target:"_blank",rel:"noreferrer",children:(0,i.jsxs)("div",{className:he,children:[(0,i.jsxs)("div",{className:ce,children:[(0,i.jsx)("div",{className:ue}),(0,i.jsx)("div",{className:ge,children:t})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(n.$ji,{Component:"h4",level:"2",weight:"3",useAccentWeight:!0,children:e.title}),(0,i.jsxs)(n.tWn,{children:[e.ext?.toUpperCase()," ᐧ ",(0,_e.A)(e.size)]})]})]})})},ke="rvEjpzcmpXgKjPMQ",Me="mIwGvs5QOBRRqQ3W",ye="_ux7_sMm3Z3cepqz",Ne=(e,t)=>{const s=t&&e.images_with_background?e.images_with_background:e.images;return s&&s.find((e=>256===e.width))?.url||""},Ee=({sticker:e})=>{const t=(0,n.UtZ)(),[s,r]=(0,a.useState)(!1),d=Ne(e,t===n.zM2.DARK),o=`./stickers/${e.sticker_id}${t===n.zM2.DARK?"b":""}.png`,[l,h]=(0,a.useState)(o),c=(0,a.useCallback)((()=>{l===o&&h(d),r(!1)}),[l,o,d]),u=(0,a.useCallback)((()=>{r(!0)}),[]);return(0,a.useEffect)((()=>{l!==o&&(r(!1),h(o))}),[t]),(0,i.jsx)("div",{className:(0,n.xWm)(ke,!s&&ye),children:(0,i.jsx)("img",{className:Me,loading:"lazy",src:l,onError:c,onLoad:u,alt:`[Стикер ${e.sticker_id}]`})})},Se="d1VQk2qrLqZLmCCb",Ce=({wallpost:e})=>{const t=`https://vk.com/wall${e.owner_id}_${e.id}`;let s="Запись на стене";return m.A.isGroupId(e.owner_id)?s+=" сообщества":s+=" пользователя",(0,i.jsx)(n.N_E,{className:Se,href:t,target:"_blank",children:s})},$e=/(?<marker>\[(?<link>(id|club)\d+)\|(?<name>.+?)])/g,We=e=>{const t=[];let s,r=0;for(;null!==(s=$e.exec(e));){const a=e.substring(r,s.index);t.push(...Ae(a)),t.push((0,i.jsx)(n.N_E,{href:"https://vk.com/"+s.groups.link,target:"_blank",children:s.groups.name},s.index)),r=s.index+s[0].length}const a=e.substring(r);return t.push(...Ae(a)),t},Ae=e=>{const t=[];return e.split(" ").map(((s,r)=>{(0,j.A)(s)?t.push((0,i.jsx)(n.N_E,{href:s,target:"_blank",children:s},s)):t.push(s),r!==e.length-1&&t.push(" ")})),t},Be=(e,t,s,r=0)=>{if(!e.attachments?.length)return null;const n=[],a=[];for(const t of e.attachments)switch(t.type){case"photo":{let e=t.photo.orig_photo;const s=A(r),n=B(e.width,e.height,b.dY-s,b.lB);a.push((0,i.jsx)(T,{photoOrDoc:t.photo,width:n.width,height:n.height},t.type+t.photo.id));break}case"video":{const e=t.video.image,s=e?.find((e=>e.width>=b.dY))||e?.reduce(((e,t)=>!e||t.width*t.height>e.width*e.height?t:e),null)||{width:t.video.width,height:t.video.height},n=A(r),d=B(s.width,s.height,b.dY-n,b.lB);a.push((0,i.jsx)(K,{video:t.video,width:d.width,height:d.height},t.type+t.video.id));break}case"doc":{const e=t.doc;if(3!==e.type&&4!==e.type||"svg"===e.ext)n.push((0,i.jsx)(be,{doc:e},t.type+e.id));else{const s=(0,_.A)(e.preview.photo.sizes),n=A(r),d=B(s.width,s.height,b.dY-n,b.lB);a.push((0,i.jsx)(T,{photoOrDoc:t.doc,width:d.width,height:d.height},t.type+e.id))}break}case"graffiti":{const e=t.graffiti,s=A(r),a=B(e.width,e.height,b.dY-s,b.lB);n.push((0,i.jsx)(T,{photoOrDoc:e,width:a.width,height:a.height,isGraffiti:!0},t.type+e.id));break}case"sticker":n.push((0,i.jsx)(Ee,{sticker:t.sticker},t.type+(t.sticker.sticker_id||t.sticker.id)));break;case"gift":n.push((0,i.jsx)(Z,{gift:t.gift,messageText:e.text||""},t.type+t.gift.id));break;case"audio_message":n.push((0,i.jsx)(J,{audio:t.audio_message},t.type+t.audio_message.id));break;case"video_message":n.push((0,i.jsx)(X,{video:t.video_message},t.type+t.video_message.id));break;case"wall":n.push((0,i.jsx)(Ce,{wallpost:t.wall},t.type+t.wall.id));break;default:n.push((0,i.jsxs)("div",{children:["Вложение типа ",t.type," не поддерживается"]},t.type+t[t.type]?.id))}let d;return a.length&&(d=(0,i.jsx)(oe,{changeMaxBubbleWidth:s,underPeerName:t,forwardLevel:r,children:a},"attaches_grid"+e.conversation_message_id)),{grid:d,other:n}},Fe="wFguGwkdvx__uF6y",Le="QCB0SuhENJZ_nbNI",Re="kjW_hUqhcTGvHrF0",De="eGNld0hVHk7g6__h",Ie="MtxcgASKyevdP0pN",Te="RHgBjbRmD6Sg6NuT",ze=({fwd:e})=>{const t=(0,x.A)((e=>e.peerNames))[e.from_id];let s,r="https://vk.com/";return m.A.isGroupId(e.from_id)?(s=t?.name||`@club${e.from_id}`,r+="club"+-e.from_id):(s=t?.ins||`@id${e.from_id}`,r+=`id${e.from_id}`),(0,i.jsxs)("div",{className:Re,children:[(0,i.jsx)(n.euF,{size:32,src:`./avatars/${e.from_id}.jpg`}),(0,i.jsxs)("div",{className:De,children:[(0,i.jsx)("div",{className:Ie,onClick:()=>window.open(r,"_blank"),children:s}),(0,i.jsx)("div",{className:Te,children:(0,o.H)(1e3*e.date,!0)})]})]})},Ke="OSI4df2RqkbQKLTf";var Ge=s(90484);const Ye=({fwd:e})=>{const t=(0,Ge.A)((e=>e.openModal));let s=null;return e.reply_message&&(s="В ответ на сообщение"),e.fwd_messages?.length&&(s="Показать все"),s?(0,i.jsx)("div",{onClick:()=>t(e),className:Ke,children:s}):null},qe=({fwd:e,isInForwardModal:t,changeMaxBubbleWidth:s,indentLevel:r=1})=>{const n=e.text?.split("\n"),d=Be(e,!0,s,r),o=e.reply_message?(0,i.jsx)(He,{fwd:e.reply_message,isInForwardModal:t,indentLevel:r+1}):e.fwd_messages?.map(((e,s)=>(0,i.jsx)(He,{fwd:e,isInForwardModal:t,indentLevel:r+1},s)));return(0,i.jsxs)("div",{"data-item":e.conversation_message_id,children:[d?.grid,n?.map(((e,t)=>(0,i.jsxs)(a.Fragment,{children:[We(e),t<n.length-1&&(0,i.jsx)("br",{},"br"+t)]},"fragment"+t))),d?.other,t?o:(0,i.jsx)(Ye,{fwd:e})]})},He=({fwd:e,isInForwardModal:t,changeMaxBubbleWidth:s,indentLevel:r=1})=>(0,i.jsxs)("div",{className:(0,n.xWm)(Fe,{[Le]:0!=r}),children:[(0,i.jsx)(ze,{fwd:e}),(0,i.jsx)(qe,{fwd:e,isInForwardModal:t,indentLevel:r,changeMaxBubbleWidth:s})]}),Pe=({message:e,peerNameShown:t,isInForwardModal:s,changeMaxBubbleWidth:r})=>{const n=e.text?.split("\n"),o=Be(e,t||!!e.reply_message,r);return(0,i.jsxs)("div",{className:d,"data-item":e.conversation_message_id,children:[e.reply_message&&(0,i.jsx)(v,{replyMessage:e.reply_message}),o?.grid,n?.map(((e,t)=>(0,i.jsxs)(a.Fragment,{children:[We(e),t<n.length-1&&(0,i.jsx)("br",{},"br"+t)]},"fragment"+t))),o?.other,!!e.fwd_messages?.length&&(0,i.jsx)("div",{style:{margin:"2px 0 2px"},children:e.fwd_messages.map(((e,t)=>(0,i.jsx)(He,{fwd:e,isInForwardModal:s,changeMaxBubbleWidth:s?void 0:r},"forward"+t)))}),(0,i.jsx)(h,{dateSeconds:e.date})]})},Qe="VM9kmktf4INtrOj5",Ve="qP11LZyBBQ8s6_jd",Ze="h1KFdPMyrADwYVF9",Ue="nv4ZzBowd2fbMYsS",Oe="cpZaIal5mBfn_UBM",Je="oYUJmZemEBJl_eSa",Xe=({message:e,fwd:t,firstInStack:s=!1,isInForwardModal:d=!1,getRootRef:o,className:l,...h})=>{const[c,u]=(0,a.useState)(null),g=(0,r.A)((e=>e.highlightedMessageCmid)),m=e&&e.attachments&&e.attachments[0],p=m&&"sticker"===m.type&&!e.reply_message,x=m&&"gift"===m.type,f=m&&"video_message"===m.type,v=(0,n.xWm)(Qe,(e?.out||d)&&Ze,!d&&{[Ue]:p,Bubble__gift:x,Bubble__videoMessage:f},d&&Ve),j=s&&!e?.out&&!p&&!x&&!d,_=e=>{d||(c||0<e)&&u(e)};let b={};c&&(b={maxWidth:c});let k=null;return t?k=(0,i.jsx)(He,{fwd:t,isInForwardModal:d,indentLevel:0}):e&&(k=(0,i.jsxs)(i.Fragment,{children:[j?(0,i.jsx)(w,{message:e}):null,(0,i.jsx)(Pe,{message:e,peerNameShown:j,isInForwardModal:d,changeMaxBubbleWidth:_})]})),(0,i.jsx)("div",{ref:o,className:(0,n.xWm)(Oe,g===e?.conversation_message_id&&Je,l),...h,children:(0,i.jsx)("div",{className:v,style:b,children:k})})}},28542:(e,t,s)=>{s.d(t,{M$:()=>n,dY:()=>i,lB:()=>r});const i=468.75,r=500,n="forwardModal"},98235:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(74848),r=s(39107),n=s(40162),a=s(82827),d=s(96540);const o=e=>{const{cmId:t}=e,{showSnackbar:s,hideSnackbar:o}=(0,a.Q)(),{setHighlightedMessageCmid:l}=(0,n.A)();return(0,d.useCallback)((()=>{const e=document.querySelector(`[data-item="${t}"]`);e?(((e,t=0)=>{const s=e.getBoundingClientRect();return s.top>=0+t&&s.left>=0+t&&s.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&s.right<=(window.innerWidth||document.documentElement.clientWidth)})(e,30)||e.scrollIntoView({behavior:"smooth"}),l(t)):s((0,i.jsx)(r.qb_,{duration:2e3,onClose:o,children:"Сообщение было удалено или находится на другой странице"}))}),[e])}},90484:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(81621),r=s(28542);const n=(0,i.vt)((e=>({activeModal:null,openModal:t=>e({activeModal:r.M$,message:t}),closeModal:()=>e({activeModal:null}),message:null})))},40162:(e,t,s)=>{s.d(t,{A:()=>i});const i=(0,s(81621).vt)()((e=>({highlightedMessageCmid:null,highlightTimeout:null,setHighlightedMessageCmid:t=>{e((s=>{s.highlightTimeout&&clearTimeout(s.highlightTimeout);const i=setTimeout((()=>{e({highlightedMessageCmid:null,highlightTimeout:null})}),1e3);return{highlightedMessageCmid:t,highlightTimeout:i}}))}})))},2012:(e,t,s)=>{s.d(t,{A:()=>i});const i=(0,s(81621).vt)((e=>({isModalOpen:!1,imageSrc:null,scale:.9,translate:{x:0,y:0},openModal:t=>e((()=>({isModalOpen:!0,imageSrc:t,scale:.9,translate:{x:0,y:0}}))),closeModal:()=>e((()=>({isModalOpen:!1,imageSrc:null}))),setScale:t=>e((e=>({scale:t(e.scale)}))),setTranslate:t=>e((()=>({translate:t})))})))},87528:(e,t,s)=>{s.d(t,{H:()=>r,Q:()=>i});const i=e=>{const t=new Date(1e3*e);return`${n(t.getHours())}:${n(t.getMinutes())}`},r=(e,t=!1)=>{const s=new Date(e),r=new Date,n=new Date(r);n.setDate(r.getDate()-1);const a=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();let d=null;a(s,r)&&(d="сегодня"),a(s,n)&&(d="вчера");const o={day:"numeric",month:"long"};return d||(d=s.toLocaleDateString("ru-RU",o)),s.getFullYear()!==r.getFullYear()&&(d+=` ${s.getFullYear()}`),t&&(d+=` в ${i(e)}`),d},n=e=>String(e).padStart(2,"0")},24382:(e,t,s)=>{s.d(t,{A:()=>i});const i=e=>{let t;try{t=new URL(e)}catch(e){return!1}return["http:","https:"].includes(t.protocol)}}}]);