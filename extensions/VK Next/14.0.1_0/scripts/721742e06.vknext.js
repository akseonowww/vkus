"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[8486],{88486:(e,n,t)=>{t.d(n,{Cj:()=>i,Fo:()=>d,Mj:()=>l});var r=t(96540);t(20181);var o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function a(e,n,t,a){const i=(0,r.useRef)(n);o((()=>{i.current=n}),[n]),(0,r.useEffect)((()=>{const n=(null==t?void 0:t.current)??window;if(!n||!n.addEventListener)return;const r=e=>{i.current(e)};return n.addEventListener(e,r,a),()=>{n.removeEventListener(e,r,a)}}),[e,t,a])}function i(){const[e,n]=(0,r.useState)(null);return[e,(0,r.useCallback)((async e=>{if(!(null==navigator?void 0:navigator.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(e){return console.warn("Copy failed",e),n(null),!1}}),[])]}function s(e){const n=(0,r.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return o((()=>{n.current=e}),[e]),(0,r.useCallback)(((...e)=>{var t;return null==(t=n.current)?void 0:t.call(n,...e)}),[n])}var c="undefined"==typeof window;function l(e,n,t={}){const{initializeWithValue:o=!0}=t,i=(0,r.useCallback)((e=>t.serializer?t.serializer(e):JSON.stringify(e)),[t]),l=(0,r.useCallback)((e=>{if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;const r=n instanceof Function?n():n;let o;try{o=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),r}return o}),[t,n]),u=(0,r.useCallback)((()=>{const t=n instanceof Function?n():n;if(c)return t;try{const n=window.localStorage.getItem(e);return n?l(n):t}catch(n){return console.warn(`Error reading localStorage key “${e}”:`,n),t}}),[n,e,l]),[d,g]=(0,r.useState)((()=>o?u():n instanceof Function?n():n)),w=s((n=>{c&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const t=n instanceof Function?n(u()):n;window.localStorage.setItem(e,i(t)),g(t),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(n){console.warn(`Error setting localStorage key “${e}”:`,n)}})),f=s((()=>{c&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const t=n instanceof Function?n():n;window.localStorage.removeItem(e),g(t),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}));(0,r.useEffect)((()=>{g(u())}),[e]);const v=(0,r.useCallback)((n=>{n.key&&n.key!==e||g(u())}),[e,u]);return a("storage",v),a("local-storage",v),[d,w,f]}var u="undefined"==typeof window;function d(e,n,t={}){const{initializeWithValue:o=!0}=t,i=(0,r.useCallback)((e=>t.serializer?t.serializer(e):JSON.stringify(e)),[t]),c=(0,r.useCallback)((e=>{if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;const r=n instanceof Function?n():n;let o;try{o=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),r}return o}),[t,n]),l=(0,r.useCallback)((()=>{const t=n instanceof Function?n():n;if(u)return t;try{const n=window.sessionStorage.getItem(e);return n?c(n):t}catch(n){return console.warn(`Error reading sessionStorage key “${e}”:`,n),t}}),[n,e,c]),[d,g]=(0,r.useState)((()=>o?l():n instanceof Function?n():n)),w=s((n=>{u&&console.warn(`Tried setting sessionStorage key “${e}” even though environment is not a client`);try{const t=n instanceof Function?n(l()):n;window.sessionStorage.setItem(e,i(t)),g(t),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}catch(n){console.warn(`Error setting sessionStorage key “${e}”:`,n)}})),f=s((()=>{u&&console.warn(`Tried removing sessionStorage key “${e}” even though environment is not a client`);const t=n instanceof Function?n():n;window.sessionStorage.removeItem(e),g(t),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}));(0,r.useEffect)((()=>{g(l())}),[e]);const v=(0,r.useCallback)((n=>{n.key&&n.key!==e||g(l())}),[e,l]);return a("storage",v),a("session-storage",v),[d,w,f]}}}]);