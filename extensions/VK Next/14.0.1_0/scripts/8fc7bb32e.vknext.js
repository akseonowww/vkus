"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2913,1812],{26334:(e,t,s)=>{s.d(t,{W:()=>a});var a=(0,s(33610).mT)("Icon20CrownCircleFillVkNext","crown_circle_fill_vk_next_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="crown_circle_fill_vk_next_20"><rect width="20" height="20" fill="url(#crown_circle_fill_vk_next_20_a)" rx="10" /><path fill="#fff" fill-rule="evenodd" d="M10.549 7.138a1.14 1.14 0 0 0 .59-.999 1.14 1.14 0 1 0-1.688 1L7.844 9.54a.2.2 0 0 1-.284.051L6.167 8.585a1.135 1.135 0 0 0 .112-.494 1.14 1.14 0 1 0-1.14 1.139l.572 1.772h8.595l.555-1.772a1.14 1.14 0 1 0-1.023-.636l-1.393 1.007a.2.2 0 0 1-.283-.051L10.55 7.138ZM6 12.202h8l-.128.622a1.723 1.723 0 0 1-1.688 1.376H7.817a1.723 1.723 0 0 1-1.687-1.374L6 12.202Z" clip-rule="evenodd" /><defs><linearGradient id="crown_circle_fill_vk_next_20_a" x1="17" x2="3" y1="3" y2="17" gradientUnits="userSpaceOnUse"><stop offset="0%" style="stop-color:#8a13d6;stop-opacity:1" /><stop offset="100%" style="stop-color:#7d81ff;stop-opacity:1" /></linearGradient></defs></symbol>',20,20,!1,void 0)},69075:(e,t,s)=>{s.d(t,{B:()=>a});var a=(0,s(93543).mT)("Icon20FavoriteCircleFillYellow","favorite_circle_fill_yellow_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_circle_fill_yellow_20"><linearGradient id="favorite_circle_fill_yellow_20_a" x1="-10" x2="10" y1="10" y2="30" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffb73d" /><stop offset="1" stop-color="#ffa000" /></linearGradient><path fill="url(#favorite_circle_fill_yellow_20_a)" d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10" /><path fill="#fff" d="m11.805 7.566 2.39.235c.831.081 1.086.912.444 1.458l-1.87 1.591.694 2.592c.228.851-.48 1.366-1.189.854l-2.273-1.643-2.273 1.643c-.706.51-1.417-.003-1.188-.854l.694-2.592-1.87-1.59c-.646-.549-.392-1.377.443-1.46l2.39-.234 1.052-2.483c.33-.778 1.174-.777 1.504 0z" /></symbol>',20,20,!1,void 0)},45393:(e,t,s)=>{s.d(t,{F:()=>a});var a=(0,s(93543).mT)("Icon36GiftCirceFilled","gift_circe_filled_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 36 36" id="gift_circe_filled_36"><circle cx="18" cy="18" r="18" fill="url(#gift_circe_filled_36_a)" /><path fill="#fff" d="M16.436 7.693c.629.426 1.156 1.017 1.565 1.756.408-.74.935-1.33 1.564-1.756 1.49-1.01 3.376-.902 4.51.232 1.135 1.135 1.242 3.02.233 4.51a4.6 4.6 0 0 1-.453.565H25c.799 0 1.51.178 2.102.504a3.5 3.5 0 0 1 1.393 1.394C28.822 15.49 29 16.2 29 17v.429c0 1.007-.14 1.547-.4 2.036a2.73 2.73 0 0 1-1.135 1.134 3 3 0 0 1-.463.201L27 23.872c0 1.783-.186 2.43-.534 3.081a3.64 3.64 0 0 1-1.512 1.512c-.652.349-1.299.535-3.082.535h-7.744c-1.783 0-2.43-.186-3.082-.535a3.64 3.64 0 0 1-1.512-1.512C9.186 26.301 9 25.655 9 23.872V20.8a3 3 0 0 1-.465-.201A2.73 2.73 0 0 1 7.4 19.465c-.24-.448-.377-.94-.398-1.794L7 17c0-.8.178-1.51.505-2.102.326-.593.8-1.067 1.393-1.394S10.201 13 11 13l1.146.001a4.6 4.6 0 0 1-.453-.565c-1.01-1.49-.902-3.375.233-4.51 1.134-1.134 3.02-1.242 4.51-.232ZM17 20.999h-6v2.873c0 1.323.078 1.727.298 2.138.162.303.388.53.691.692.412.22.815.297 2.139.297H17zm2 0v6h2.872c1.324 0 1.727-.077 2.139-.297.303-.163.529-.389.691-.692.22-.411.298-.815.298-2.138V21zm-2-6h-6c-.458 0-.84.093-1.137.257a1.5 1.5 0 0 0-.607.606C9.092 16.16 9 16.542 9 17l.002.609c.009.506.06.722.162.913a.73.73 0 0 0 .314.313c.21.113.45.163 1.075.165L17 18.998zm8 0h-6v4h6.446l.163-.001c.506-.01.722-.06.913-.163a.73.73 0 0 0 .314-.313c.102-.191.153-.407.163-.913l.001-.61c0-.458-.093-.839-.256-1.137a1.5 1.5 0 0 0-.607-.606c-.298-.164-.679-.257-1.137-.257m-6-2c3.65-.35 4.695-2.704 3.7-3.7-.995-.995-3.35.05-3.7 3.7m-5.699-3.7c-.995.996.05 3.35 3.7 3.7-.35-3.65-2.705-4.695-3.7-3.7" /><defs><linearGradient id="gift_circe_filled_36_a" x1="-18" x2="18" y1="18" y2="54" gradientUnits="userSpaceOnUse"><stop stop-color="#928FFF" /><stop offset="1" stop-color="#4B47B2" /></linearGradient></defs></symbol>',36,36,!1,void 0)},7708:(e,t,s)=>{s.d(t,{A:()=>_});var a=s(74848),i=s(48081),r=s(39107),l=s(13742),n=s(68741),c=s(91691);const o="zRIhm_rzeRaOj2Bs",d="m8aAYX3glAEj5Q3G",_=({beforeClassname:e,backPage:t,hideButtonIsFirstPage:s,hideBackButtonInTablet:_,children:h,...f})=>{const u=(0,i.XC)(),p=(0,i.Gz)(),{width:g}=(0,l.A)();let x=s&&u&&(0,c.A)();return _&&(g||800)>768&&(x=!0),(0,a.jsx)(r.aOn,{before:!x&&(0,a.jsx)(r.Hy0,{onClick:async()=>{u?t?await p.replace(t):await p.push(n.JZ.root.main.home):await p.back()},className:(0,r.xWm)(o,e),hideLabelOnIOS:!0}),...f,children:(0,a.jsx)("div",{className:d,children:h})})}},86231:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>h});var i=s(74848),r=s(70122),l=s(8015),n=s(93750),c=s(57087),o=s(39107),d=s(31812),_=e([l]);l=(_.then?(await _)():_)[0];const h=({gift:e})=>{const t=(0,l.A)(),{showSnackbar:s,hideSnackbar:a}=(0,c.Qs)(),{forceUpdate:_}=(0,n.A)();return e.accepted?null:(0,i.jsx)(o.e2v,{children:(0,i.jsx)(o.$nd,{size:"m",mode:"primary",onClick:async()=>{const{response:l,error:n,error_code:c}=await r.default.call("profile.acceptGift",{id:e.id});if(c)return s(31===c?(0,i.jsx)(o.qb_,{onClose:a,children:t.use("settings_gifts_cannot_accept_donut")}):32===c?(0,i.jsx)(o.qb_,{onClose:a,children:t.use("settings_gifts_cannot_accept_forever")}):n?(0,i.jsxs)(o.qb_,{onClose:a,children:[c,": ",n]}):(0,i.jsxs)(o.qb_,{onClose:a,children:[t.use("global_error"),": ",c]}));l?(await(0,d.default)(),s((0,i.jsx)(o.qb_,{onClose:a,subtitle:t.use("settings_gifts_reload_browser"),children:t.use("settings_gifts_accepted_generic")}))):s((0,i.jsx)(o.qb_,{onClose:a,children:t.use("global_error")})),await _()},children:"Принять"})})};a()}catch(e){a(e)}}))},2760:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>_});var i=s(74848),r=s(8015),l=s(57087),n=s(39107),c=s(45123),o=e([r]);r=(o.then?(await o)():o)[0];const d="https://static.vknext.net/logos/VKNext.png",_=({from_id:e,accepted:t})=>{const s=(0,r.A)(),{usersCache:a}=(0,l.y$)(),{groupsCache:o}=(0,l.Qm)();return(0,i.jsx)(n.son,{align:"center",justify:"center",margin:"auto",children:(0,i.jsx)(n.f$Y,{photos:[(()=>{if(!e)return d;const t=a.get(e);if(t?.photo_50)return t.photo_50;const s=o.get(Math.abs(e));return s?.photo_50?s.photo_50:d})()],children:(()=>{const r=(()=>{if(!e)return null;const t=a.get(e);if(t)return(0,c.A)(t.first_name_gen||t.first_name,t.last_name_gen||t.last_name,t.maiden_name,t.sex);const s=o.get(Math.abs(e));return s?s.name:(0,i.jsx)(n.EAD,{width:66})})();return r?s.use(t?"settings_gifts_from_accepted":"settings_gifts_from",{name:r}):s.use(t?"settings_gifts_accepted":"settings_gifts_title")})()})})};a()}catch(e){a(e)}}))},48866:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>c});var i=s(74848),r=s(3697),l=s(8015),n=e([r,l]);[r,l]=n.then?(await n)():n;const c=({period:e})=>{const t=(0,l.A)(),s=(0,r.A)(e);return s?(0,i.jsx)("span",{children:t.use("settings_gifts_active_period",{period:s})}):null};a()}catch(e){a(e)}}))},89341:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(74848),i=s(26334),r=s(69075),l=s(39107);const n=({thumb:e,type:t})=>e?(0,a.jsx)(l._V3,{src:e,size:56}):"prime"===t?(0,a.jsx)(r.B,{width:56,height:56}):"deluxe"===t?(0,a.jsx)(i.W,{width:56,height:56}):null},44787:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>l});var i=s(8015),r=e([i]);i=(r.then?(await r)():r)[0];const l=({title:e,type:t})=>{const s=(0,i.A)();return e||("prime"===t?s.use("global_prime_name"):"deluxe"===t?s.use("global_prime_deluxe_name"):null)};a()}catch(e){a(e)}}))},98079:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>o});var i=s(74848),r=s(8015),l=s(45393),n=s(39107),c=e([r]);r=(c.then?(await c)():c)[0];const o=()=>{const e=(0,r.A)();return(0,i.jsx)(n.OrA,{icon:(0,i.jsx)(l.F,{width:56,height:56}),children:e.use("settings_gifts_unknown_type")})};a()}catch(e){a(e)}}))},13399:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>u});var i=s(74848),r=s(39107),l=s(86231),n=s(2760),c=s(48866),o=s(89341),d=s(44787),_=s(98079),h=e([l,n,c,d,_]);[l,n,c,d,_]=h.then?(await h)():h;const f=["prime","deluxe"],u=({gift:e})=>f.includes(e.type)?(0,i.jsxs)(r.YJl,{children:[(0,i.jsx)(r.YJl,{separator:"hide",children:(0,i.jsx)(r.OrA,{icon:(0,i.jsx)(o.A,{type:e.type,thumb:e.thumb}),title:(0,i.jsx)(d.A,{type:e.type,title:e.title}),action:(0,i.jsx)(l.A,{gift:e}),children:(0,i.jsx)(c.A,{period:e.period})})}),(0,i.jsx)(n.A,{from_id:e.from_id,accepted:e.accepted})]}):(0,i.jsx)(r.YJl,{children:(0,i.jsx)(_.A,{})});a()}catch(e){a(e)}}))},52144:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>d});var i=s(74848),r=s(8015),l=s(93750),n=s(39107),c=s(13399),o=e([r,c]);[r,c]=o.then?(await o)():o;const d=()=>{const{gifts:e,isLoading:t}=(0,l.A)(),s=(0,r.A)();return t?(0,i.jsx)(n.YJl,{children:(0,i.jsx)(n.qBl,{})}):0===e.length?(0,i.jsx)(n.YJl,{children:(0,i.jsx)(n.OrA,{children:s.use("settings_gifts_not_found")})}):e.map((e=>(0,i.jsx)(c.A,{gift:e},e.id)))};a()}catch(e){a(e)}}))},3697:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.d(t,{A:()=>l});var i=s(8015),r=e([i]);i=(r.then?(await r)():r)[0];const l=e=>{const t=(0,i.A)();if(!e)return"";if(!e)return"";const s=86400;let a=[];const r=[{value:31536e3,key:"global_age_years"},{value:2592e3,key:"global_age_months"},{value:604800,key:"global_age_weeks"},{value:s,key:"global_age_days"},{value:3600,key:"global_hours"},{value:60,key:"global_minutes"}];for(const{value:s,key:i}of r)if(e>=s){const r=Math.floor(e/s);a.push(t.use(i,r)),e%=s}return a.join(", ")};a()}catch(e){a(e)}}))},92913:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.r(t),s.d(t,{default:()=>d});var i=s(74848),r=s(7708),l=s(48797),n=s(8015),c=s(52144),o=e([n,c]);[n,c]=o.then?(await o)():o;const d=()=>{const e=(0,n.A)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{children:e.use("settings_menu_gifts_title")}),(0,i.jsx)(l.A,{children:(0,i.jsx)(c.A,{})})]})};a()}catch(e){a(e)}}))},31812:(e,t,s)=>{s.d(t,{default:()=>i});var a=s(98570);const i=async()=>{const e=(0,a.A)().browserApi;if(!e)throw new Error("browserApi not found");const t=e.storage;try{for(let e=localStorage.length-1;e>=0;e--){const t=localStorage.key(e);t&&(t.startsWith("vknLP")||t.startsWith("e4f8f7d4436d")||t.startsWith("posts_app_modules_@id:"))&&localStorage.removeItem(t)}}catch(e){console.error(e)}const s=[];for(const e in await t.local.getAll())e&&(e.startsWith("vknLP")||e.startsWith("e4f8f7d4436d")||e.startsWith("posts_app_modules_@id:"))&&s.push(e);await t.local.remove(s)}},45123:(e,t,s)=>{s.d(t,{A:()=>a});const a=(e,t,s,a)=>{const i=[];return e&&i.push(e.trim()),s&&1===a&&i.push(`(${s.trim()})`),t&&i.push(t.trim()),i.join(" ")}}}]);