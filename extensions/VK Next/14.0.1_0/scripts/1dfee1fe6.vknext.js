(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[9645],{18055:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=["account","ads","appWidgets","apps","audio","auth","board","database","docs","fave","friends","gifts","groups","leads","leadForms","likes","market","messages","newsfeed","notes","notifications","orders","pages","photos","places","polls","podcasts","prettyCards","store","search","secure","stats","status","storage","stories","streaming","users","utils","video","wall","widgets","junction","articles","donut","specials","statEvents","loyaltyTeen","marusia"]},82295:(t,e,s)=>{"use strict";s.d(e,{A:()=>r});const a=globalThis.location.host.split(".");let o;o="vk"!==a[0]?"vk.com":`vk.${a[a.length-1]||"com"}`;const r=o},19575:(t,e,s)=>{"use strict";s.d(e,{n:()=>i});var a=s(37352),o=s(82050),r=s(18055),n=s(82295);class i{options;_getToken;constructor({version:t,appId:e,getToken:s,language:a,onError:o,onErrorValidToken:n,exchange_token:i,onChangeToken:l}){if(void 0===s)throw new Error("getToken not found");this.options={exchange_token:i,appId:e,getToken:s,onError:o,onErrorValidToken:n,onChangeToken:l,version:t||"5.246",language:a||"ru"},this._getToken=s;for(const t of r.A)this[t]=new Proxy(Object.create(null),{get:(e,s)=>e=>this.call(`${t}.${s}`,e)})}async updateToken(){const{promise:t,resolve:e}=(0,a.A)(),{exchange_token:o,appId:r}=this.options;if(!o)return e();if(!r)return e();const i=new URLSearchParams({client_id:r.toString(),exchange_token:o,scope:"all"}),l=`https://oauth.${n.A}/auth_by_exchange_token?${i.toString()}`;{const{tabs:t}=await s.e(6815).then(s.t.bind(s,96815,23)),a=await t.create({url:l,active:!1}),o=async(s,r,n)=>{if("complete"===r.status&&s===a.id){const s=n.url;if(t.onUpdated.removeListener(o),a.id&&await t.remove(a.id),s){const t=new URLSearchParams(new URL(s).hash).get("#access_token");this.options.token=t||"",this.options.exchange_token="",t&&this.options.onChangeToken&&await this.options.onChangeToken(t),e()}}};t.onUpdated.addListener(o)}return await t}async call(t,e,s=0){try{this.options.token||(this.options.token=await this.options.getToken());const a=await fetch(`https://api.${n.A}/method/${t}`+(this.options.appId?`?client_id=${this.options.appId}`:""),{method:"POST",body:new URLSearchParams({access_token:this.options.token,lang:this.options.language||"ru",v:this.options.version,...e}),headers:{"content-type":"application/x-www-form-urlencoded"}}),r=await a.json(),i=r?.error?.error_code;if(i&&s>5){const e=new Error(`[VK API] error call ${t}: ${JSON.stringify(r.error)}`);throw this.options.onError&&this.options.onError(e,r.error),e}const l=()=>this.call(t,e,s+1);return 1117===i&&this.options.exchange_token&&this.options.appId?(await this.updateToken(),l()):[1,5,38,3610].includes(i)?(this.options.onErrorValidToken&&this.options.onErrorValidToken(),this.options.token=await this.options.getToken(),l()):6===i||10===i?(await(0,o.A)(1e3),l()):r.response?r.response:r}catch(t){throw console.error(t),new Error(t)}}execute(t){return this.call("execute",t)}}},26742:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=()=>/^ru\b/.test(navigator.language)?0:/^uk\b/.test(navigator.language)?1:/^en\b/.test(navigator.language)?3:/^de\b/.test(navigator.language)?6:/^pl\b/.test(navigator.language)?15:/^kk\b/.test(navigator.language)?97:/^be\b/.test(navigator.language)?114:3},51603:(t,e,s)=>{"use strict";s.d(e,{A:()=>l});const a={0:"default",1:"Ukrainian",3:"English",6:"German",15:"Polish",97:"Kazakh",114:"Belarusian",777:"Soviet",73:"Portuguese, Brazilian"},o=async t=>{try{const{default:e}=await s(21230)(`./${a[t]}`);return e}catch(t){console.error(t)}return{}},r=async()=>{try{const{default:t}=await s(21230)(`./${a[0]}`);return t}catch(t){console.error(t)}return{}},n=async t=>{try{const{default:e}=await s(66811)(`./${t}/${a[0]}`);return e}catch(t){console.error(t)}return{}},i=async(t,e)=>{try{const{default:o}=await s(66811)(`./${t}/${a[e]}`);return o}catch(t){console.error(t)}return{}},l=async(t,e)=>{const[s,a,l,c]=await Promise.all([o(e),r(),n(t),i(t,e)]);return{...s,...a,...l,...c}}},37352:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=()=>{let t,e;return{promise:new Promise(((s,a)=>{t=s,e=a})),resolve:t,reject:e}}},82050:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=t=>new Promise((e=>setTimeout(e,t)))},79384:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=(t,e=0)=>t.charCodeAt(e)},387:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=()=>Math.floor(Date.now()/1e3)},99381:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a=()=>{}},21230:(t,e,s)=>{var a={"./Belarusian":[51300,1300],"./Belarusian.ts":[51300,1300],"./English":[78426,8426],"./English.ts":[78426,8426],"./German":[45394,5394],"./German.ts":[45394,5394],"./Kazakh":[41210,1210],"./Kazakh.ts":[41210,1210],"./Polish":[17877,7877],"./Polish.ts":[17877,7877],"./Portuguese, Brazilian":[55147,5147],"./Portuguese, Brazilian.ts":[55147,5147],"./Soviet":[22462,2462],"./Soviet.ts":[22462,2462],"./Ukrainian":[77692,7692],"./Ukrainian.ts":[77692,7692],"./default":[34079,4079],"./default.ts":[34079,4079]};function o(t){if(!s.o(a,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],o=e[0];return s.e(e[1]).then((()=>s(o)))}o.keys=()=>Object.keys(a),o.id=21230,t.exports=o},66811:(t,e,s)=>{var a={"./chatHistory/Belarusian":[70141,141],"./chatHistory/Belarusian.ts":[70141,141],"./chatHistory/English":[31297,1297],"./chatHistory/English.ts":[31297,1297],"./chatHistory/German":[52739,2739],"./chatHistory/German.ts":[52739,2739],"./chatHistory/Kazakh":[91351,1351],"./chatHistory/Kazakh.ts":[91351,1351],"./chatHistory/Polish":[11332,1332],"./chatHistory/Polish.ts":[11332,1332],"./chatHistory/Portuguese, Brazilian":[76628,6628],"./chatHistory/Portuguese, Brazilian.ts":[76628,6628],"./chatHistory/Soviet":[56631,6631],"./chatHistory/Soviet.ts":[56631,6631],"./chatHistory/Ukrainian":[4211,4211],"./chatHistory/Ukrainian.ts":[4211,4211],"./chatHistory/default":[66852,6852],"./chatHistory/default.ts":[66852,6852],"./global/Belarusian":[51300,1300],"./global/Belarusian.ts":[51300,1300],"./global/English":[78426,8426],"./global/English.ts":[78426,8426],"./global/German":[45394,5394],"./global/German.ts":[45394,5394],"./global/Kazakh":[41210,1210],"./global/Kazakh.ts":[41210,1210],"./global/Polish":[17877,7877],"./global/Polish.ts":[17877,7877],"./global/Portuguese, Brazilian":[55147,5147],"./global/Portuguese, Brazilian.ts":[55147,5147],"./global/Soviet":[22462,2462],"./global/Soviet.ts":[22462,2462],"./global/Ukrainian":[77692,7692],"./global/Ukrainian.ts":[77692,7692],"./global/default":[34079,4079],"./global/default.ts":[34079,4079],"./serviceWorker/Belarusian":[52068,2068],"./serviceWorker/Belarusian.ts":[52068,2068],"./serviceWorker/English":[53018,3018],"./serviceWorker/English.ts":[53018,3018],"./serviceWorker/German":[11570,1570],"./serviceWorker/German.ts":[11570,1570],"./serviceWorker/Kazakh":[7386,7386],"./serviceWorker/Kazakh.ts":[7386,7386],"./serviceWorker/Polish":[84053,4053],"./serviceWorker/Polish.ts":[84053,4053],"./serviceWorker/Portuguese, Brazilian":[83339,3339],"./serviceWorker/Portuguese, Brazilian.ts":[83339,3339],"./serviceWorker/Soviet":[88638,8638],"./serviceWorker/Soviet.ts":[88638,8638],"./serviceWorker/Ukrainian":[86652,6652],"./serviceWorker/Ukrainian.ts":[86652,6652],"./serviceWorker/default":[92319,2319],"./serviceWorker/default.ts":[92319,2319],"./settings/Belarusian":[17714,7714],"./settings/Belarusian.ts":[17714,7714],"./settings/English":[66192,6192],"./settings/English.ts":[66192,6192],"./settings/German":[70964,964],"./settings/German.ts":[70964,964],"./settings/Kazakh":[62220,2220],"./settings/Kazakh.ts":[62220,2220],"./settings/Polish":[68643,8643],"./settings/Polish.ts":[68643,8643],"./settings/Portuguese, Brazilian":[80045,45],"./settings/Portuguese, Brazilian.ts":[80045,45],"./settings/Soviet":[3464,3464],"./settings/Soviet.ts":[3464,3464],"./settings/Ukrainian":[89486,9486],"./settings/Ukrainian.ts":[89486,9486],"./settings/default":[97085,7085],"./settings/default.ts":[97085,7085],"./vkcom/Belarusian":[63975,3975],"./vkcom/Belarusian.ts":[63975,3975],"./vkcom/English":[83739,3739],"./vkcom/English.ts":[83739,3739],"./vkcom/German":[92081,2081],"./vkcom/German.ts":[92081,2081],"./vkcom/Kazakh":[32965,2965],"./vkcom/Kazakh.ts":[32965,2965],"./vkcom/Polish":[53790,3790],"./vkcom/Polish.ts":[53790,3790],"./vkcom/Portuguese, Brazilian":[57114,7114],"./vkcom/Portuguese, Brazilian.ts":[57114,7114],"./vkcom/Soviet":[66709,6709],"./vkcom/Soviet.ts":[66709,6709],"./vkcom/Ukrainian":[80777,777],"./vkcom/Ukrainian.ts":[80777,777],"./vkcom/default":[51974,1974],"./vkcom/default.ts":[51974,1974]};function o(t){if(!s.o(a,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],o=e[0];return s.e(e[1]).then((()=>s(o)))}o.keys=()=>Object.keys(a),o.id=66811,t.exports=o}}]);