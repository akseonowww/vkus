"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[865,5544],{40192:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.r(t),s.d(t,{default:()=>d});var n=s(74848),i=s(39107),c=s(96540),l=s(72266),o=s(96865),a=s(67691),u=e([a]);a=(u.then?(await u)():u)[0];const d=({vkLyrics:e})=>{const[t,s]=(0,c.useState)(0),r=(0,c.useCallback)((()=>{e&&(e.style.display="none")}),[e]),u=(0,c.useCallback)((()=>{e&&(e.style.display="")}),[e]);return(0,c.useEffect)((()=>{curBox()?.updateBoxCoords()}),[]),(0,c.useEffect)((()=>{0===t?u():r()}),[r,u,t,e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.tUM,{mode:"accent",className:o.A.Tabs,children:[(0,n.jsx)(i.ORv,{selected:0===t,onClick:()=>s(0),children:"LyricFind (vk)"}),(0,n.jsx)(i.ORv,{selected:1===t,onClick:()=>s(1),children:"Genius"})]}),0!==t&&(0,n.jsx)(l.zm,{children:1===t&&(0,n.jsx)(a.A,{})})]})};r()}catch(e){r(e)}}))},67691:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>d});var n=s(74848),i=s(39107),c=s(72266),l=s(87675),o=s(53982),a=s(26219),u=e([l]);l=(u.then?(await u)():u)[0];const d=()=>{const e=(0,l.A)(),{isLoading:t,lyrics:s}=(0,a.A)();if(t)return(0,n.jsx)(i.y$y,{size:"xl"});if(s){const t=s.split("\n");return(0,n.jsxs)(c.$v,{children:[t.map(((e,t)=>{const s=e.trim(),r=s.startsWith("[")&&s.endsWith("]");return""===s||r?null:(0,n.jsx)(c.H4,{text:s,active:!r},t)})),(0,n.jsxs)(c.j3,{children:[e.use("vkcom_genius_lyrics_footer"),(0,n.jsx)("br",{}),e.use("vkcom_lyrics_footer_default")]})]})}return(0,n.jsx)(o.A,{})};r()}catch(e){r(e)}}))},53982:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(74848),n=(0,s(33610).mT)("IconIllustrationLyrics56h","illustration_lyrics_56h","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="illustration_lyrics_56h"><path fill="#AB47E9" d="M33.732 48.99c10.504 0 15.756 0 19.007-2.638C55.99 43.714 56 39.453 56 30.942v-5.894c0-8.511 0-12.772-3.261-15.41S44.226 7 33.732 7H22.278C11.774 7 6.522 7 3.271 9.638.02 12.276 0 16.537 0 25.048v5.894c0 8.511 0 12.762 3.271 15.41C6.542 49 11.784 49 22.278 49l11.454-.01Z" /><path fill="#6F16AA" d="m33.732 48.99-8.977.008c-.734-1.324-.961-2.803-.522-4.2 1-3.175 5.082-4.758 9.083-3.523a9.77 9.77 0 0 1 2.721 1.354c.042-1.142.088-2.334.133-3.52.15-3.936.298-7.807.298-9.551 0 0-.11-8.193.72-9.278 1.451-1.905 11.456-4.57 18.273-5.839.514 2.425.538 5.618.539 9.955l-15.02 3.728a1.3 1.3 0 0 0-.701.438 1.31 1.31 0 0 0-.27.777c0 4.55-.77 15.34-1 18.536-.008.37-.05.738-.127 1.1-1.561.015-3.272.015-5.15.015Zm16.397-1.2c1.003-.361 1.86-.83 2.61-1.438 2.306-1.871 2.981-4.558 3.18-9-3.902-1.073-7.802.5-8.767 3.614-.764 2.463.511 5.15 2.977 6.823Z" /><path fill="#fff" d="M19.42 19.88H7.09a1.5 1.5 0 0 0 0 3h12.33a1.5 1.5 0 0 0 0-3Zm-7.86 6.56H7.09a1.5 1.5 0 0 0 0 3h4.47a1.5 1.5 0 0 0 0-3Zm6.03 6.68H7.09a1.5 1.5 0 0 0 0 3h10.5a1.5 1.5 0 0 0 0-3Zm8.16 0h-2.79a1.5 1.5 0 1 0 0 3h2.79a1.5 1.5 0 0 0 0-3Zm5.22-6.68H17.52a1.5 1.5 0 1 0 0 3h13.45a1.5 1.5 0 0 0 0-3Zm-2.86-6.56h-3.28a1.5 1.5 0 1 0 0 3h3.28a1.5 1.5 0 0 0 0-3Z" /></symbol>',56,56,!1,void 0),i=s(39107);const c=()=>(0,r.jsx)(i.OrA,{icon:(0,r.jsx)(n,{}),children:window.getLang("audio_track_has_no_lyrics_yet")})},26219:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(96540),n=s(2921),i=s(11707);const c=()=>{const e=(0,i.A)(),[t,s]=(0,r.useState)(null),[c,l]=(0,r.useState)(null===t);return(0,r.useEffect)((()=>{if(!e)return;l(!0);const t=new AbortController,r=t.signal;return(0,n.A)({...e,signal:r}).then((e=>{r.aborted||(s(e),l(!1))})),()=>{t.abort()}}),[e]),{isLoading:c,lyrics:t}}},2921:(e,t,s)=>{s.d(t,{A:()=>i});const r=new Map,n=e=>e.trim().toLowerCase().replaceAll("ё","е"),i=async({title:e,mainArtists:t,featuredArtists:s,performer:i,signal:c})=>{const l=((e,t,s=[])=>{const r=n(e)+" "+t.map((e=>n(e.name))).concat(s).join(" ");return n(r)})(e,i?[{name:i}]:"string"==typeof t?[{name:t}]:t,s);if(r.has(l))return r.get(l);let o;try{const e=await fetch("https://api.genius.com/search?"+new URLSearchParams({q:l}),{signal:c});if(200!==e.status)return"";o=await e.json()}catch(e){return console.error("Error fetching search results:",e),""}const a=o?.response?.hits||[];let u=a.find((t=>n(t?.result?.title)===n(e)));if(!u){const e=[],t=a.filter((t=>{if(t?.result?.title){const s=n(t.result.full_title||[t.result.title,t.result.artist_names].filter((e=>e)).join(" ")),r=l.split(" ").filter((e=>!s.includes(e))).length,i=r<3;return i&&e.push(r),i}return!1}));let s=4;for(const[r,n]of Object.entries(e))s>n&&(s=n,u=t[r])}if(!u)return r.set(l,""),"";const d=u.result?.id;if(!d)return r.set(l,""),"";try{o=await fetch(`https://api.genius.com/songs/${d}?text_format=plain`,{signal:c}),o=await o.json()}catch(e){return console.error("Error fetching song details:",e),""}const h=o?.response?.song?.lyrics?.plain?.trim()||"";return r.set(l,h),h}},87675:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>i});var n=s(93819);const e=await n.A,i=()=>e;r()}catch(e){r(e)}}),1)},72266:(e,t,s)=>{s.d(t,{j3:()=>i,H4:()=>d,zm:()=>_,$v:()=>x});var r=s(74848);const n="x0zyR_VKsKjwn0P8",i=({children:e})=>(0,r.jsx)("div",{className:n,children:e}),c="k5olAEd2upkmMAJ1",l=({children:e,compensationTop:t})=>(0,r.jsx)("div",{className:c,style:{paddingTop:t||void 0},children:e});var o=(0,s(93543).mT)("Icon32SongOutline","song_outline_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 32" id="song_outline_32"><path fill="currentColor" d="m25.493 3.12.007.13v2.691a4.6 4.6 0 0 1-3.246 4.4l-.208.058-4.546 1.173V22.69c0 6.112-6.004 9.252-9.278 6.015-1.451-1.435-1.632-3.856-.423-5.801 1.26-2.03 3.766-3.268 7.2-3.393l.002-11.19c-.035-2.463 1.163-4.21 3.434-4.966l.24-.076c.92-.28 2.676-.691 5.316-1.251a1.25 1.25 0 0 1 1.502 1.092M15 22l-.317.02c-2.416.175-4.004 1.004-4.751 2.198-.624.998-.538 2.144.052 2.723 1.58 1.552 5.017-.233 5.017-4.296zM23 4.797l-1.59.36c-1.056.246-1.787.437-2.184.57-1.161.386-1.691 1.094-1.724 2.37l-.002.892 3.922-1.01a2.1 2.1 0 0 0 1.571-1.87L23 5.941z" /></symbol>',32,32,!1,void 0),a=s(39107);const u={AudioLyricsLine__line:"bPzPno0M32BJbuh5",AudioLyricsLine__clickable:"Cu0uoiQo36_1DYSQ",AudioLyricsLine__inactive:"rsrOqxVU45yEZwN1",AudioLyricsLine__text:"uZVIKWizVc3S_Ouz",AudioLyricsLine__interlude:"bf4O3xv592XBDrq_"},d=({text:e,interlude:t,active:s,onClick:n})=>{const i=(0,a.xWm)(u.AudioLyricsLine__line,!s&&u.AudioLyricsLine__interlude,n&&u.AudioLyricsLine__clickable),c=()=>{n&&n()};return e?(0,r.jsx)("div",{className:i,onClick:c,children:(0,r.jsx)("div",{className:u.AudioLyricsLine__text,children:e})}):t?(0,r.jsx)("div",{className:(0,a.xWm)(i,u.AudioLyricsLine__interlude),onClick:c,children:(0,r.jsx)("div",{className:(0,a.xWm)("foo",u.text),children:(0,r.jsx)(o,{})})}):null},h="xKrjLo3ONevDr0uV",_=({children:e})=>(0,r.jsx)("div",{className:h,children:e});var m=s(94249);const f="zYq9Zl9kx8ThJL6X",x=({children:e})=>(0,r.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,r.jsx)(m.Z,{height:380,ThumbVerticalClassName:f,children:(0,r.jsx)(l,{compensationTop:24,children:e})})})},94249:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(74848),n=s(39107),i=s(96540),c=s(62295);const l="Pab4lyLnWDTPLKdr",o=({children:e,height:t=537,style:s={},saveKey:o,isScrollBottom:a,ThumbVerticalClassName:u,...d})=>{const h=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!o)return;if(!h.current)return;const e=(e=>{const t=sessionStorage.getItem(e);return t?parseFloat(t):null})(o);e&&h.current.scrollTop(e)}),[o,h]),(0,i.useEffect)((()=>{a&&h.current&&h.current.scrollToBottom()})),(0,r.jsx)(c.ur,{ref:h,style:{height:t,...s},renderThumbVertical:e=>{var t,s;return o&&h.current&&(t=o,s=h.current.getScrollTop(),sessionStorage.setItem(t,s.toString())),(0,r.jsx)("div",{...e,className:(0,n.xWm)(l,u)})},renderTrackHorizontal:()=>(0,r.jsx)("div",{}),...d,children:e})}},96865:(e,t,s)=>{s.d(t,{A:()=>r});const r={Tabs:"HH4_DENNiipmsCvk"}},40961:(e,t,s)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=s(22551)}}]);