"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2725],{39307:(e,t,s)=>{s.d(t,{b:()=>n});var n=(0,s(33610).mT)("Icon24ExternalLinkOutline","external_link_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="external_link_outline_24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M5.146 3.634c.762-.407 1.512-.534 3.082-.534H10.1a.9.9 0 1 1 0 1.8H8.228c-1.487 0-1.87.128-2.233.322-.336.18-.594.437-.773.773-.194.362-.322.746-.322 2.233v7.544c0 1.487.128 1.87.322 2.233.18.336.437.594.773.774.362.193.746.321 2.233.321h7.544c1.487 0 1.87-.128 2.233-.321.336-.18.594-.438.774-.774.193-.362.321-.746.321-2.233V13.9a.9.9 0 1 1 1.8 0v1.872c0 1.57-.127 2.32-.534 3.082a3.646 3.646 0 0 1-1.512 1.512c-.763.407-1.512.534-3.082.534H8.228c-1.57 0-2.32-.127-3.082-.534a3.647 3.647 0 0 1-1.512-1.512c-.407-.762-.534-1.512-.534-3.082V8.228c0-1.57.127-2.32.534-3.082a3.647 3.647 0 0 1 1.512-1.512z" /><path d="M14 4a.9.9 0 0 1 .9-.9H20a.9.9 0 0 1 .9.9v5.1a.9.9 0 1 1-1.8 0V6.173l-6.564 6.563a.9.9 0 1 1-1.272-1.272L17.827 4.9H14.9A.9.9 0 0 1 14 4z" /></g></symbol>',24,24,!1,void 0)},73615:(e,t,s)=>{s.d(t,{V:()=>n});var n=(0,s(93543).mT)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.144 2.298l-.009.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25M10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17M3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},52509:(e,t,s)=>{s.d(t,{z:()=>n});var n=(0,s(93543).mT)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="more_horizontal_24"><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2" /></symbol>',24,24,!1,void 0)},52319:(e,t,s)=>{s.d(t,{_:()=>n});var n=(0,s(93543).mT)("Icon28ErrorCircleOutline","error_circle_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="error_circle_outline_28"><path fill="currentColor" d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2m0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4m0 13.6a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8m.074-9.6c.237 0 .386.037.517.107q.196.106.302.302c.07.13.107.28.107.517v6.148c0 .237-.037.386-.107.517a.73.73 0 0 1-.302.302c-.13.07-.28.107-.517.107h-.148c-.237 0-.386-.037-.517-.107a.73.73 0 0 1-.302-.302c-.07-.13-.107-.28-.107-.517V8.926c0-.237.037-.386.107-.517a.73.73 0 0 1 .302-.302c.13-.07.28-.107.517-.107z" /></symbol>',28,28,!1,void 0)},40411:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>_});var a=s(74848),i=s(56287),o=s(8015),l=s(90275),r=s(27514),c=s(99381),d=s(39307),h=s(73615),u=s(52509),g=s(39107),w=e([o]);o=(w.then?(await w)():w)[0];const _=({helpLink:e,actions:t})=>{const s=(0,o.A)(),n=(0,i.A)(),w=()=>{window.open(window.location.href),window.close()};return e||(0,r.A)(t)?(0,a.jsx)(l.Ku,{placement:"bottom-end",actions:(0,a.jsxs)(a.Fragment,{children:[(0,r.A)(t)&&(0,a.jsxs)(a.Fragment,{children:[t,(n||e)&&(0,a.jsx)(l.AS,{})]}),n&&(0,a.jsx)(l.vH,{onClick:w,leftIcon:(0,a.jsx)(d.b,{width:20,height:20}),children:s.use("settings_open_settings")}),e&&(0,a.jsx)(l.vH,{href:e,target:"_blank",leftIcon:(0,a.jsx)(h.V,{}),children:s.use("settings_menu_help_section")})]}),children:(0,a.jsx)(g.qAe,{onClick:c.A,children:(0,a.jsx)(u.z,{})})}):n?(0,a.jsx)(g.m_M,{description:s.use("settings_open_settings"),placement:"bottom",usePortal:!0,children:(0,a.jsx)(g.qAe,{onClick:w,children:(0,a.jsx)(d.b,{})})}):null};n()}catch(e){n(e)}}))},48797:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(74848),a=s(39107),i=s(58006);const o=({children:e,isTabs:t=!1,style:s={},...o})=>{const l=(0,i.A)({isTabs:t});return s.maxHeight||(s.maxHeight=l),(0,n.jsx)(a.guY,{style:s,...o,children:e})}},79369:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>h});var a=s(74848),i=s(61699),o=s(8015),l=s(57087),r=s(52319),c=s(39107),d=e([o]);o=(d.then?(await d)():d)[0];const h=()=>{const e=(0,o.A)(),{hideSnackbar:t}=(0,l.Qs)(),{createTab:s}=(0,i.A)();return(0,a.jsx)(c.qb_,{onClose:t,duration:7e3,before:(0,a.jsx)(r._,{fill:"var(--vkui--color_icon_negative)"}),action:e.use("global_open"),onActionClick:()=>{s({url:window.location.href,active:!0}),window.close()},children:e.use("settings_file_input_is_not_supported")})};n()}catch(e){n(e)}}))},56287:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(91691),a=s(15033);const i=()=>{const e=(0,a.l)();return((e.width||0)<=800||(e.height||0)<=600)&&!(0,n.A)()}},4899:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>_});var a=s(74848),i=s(39107),o=s(96540),l=s(79369),r=s(61699),c=s(8015),d=s(57087),h=s(26914),u=s(34411),g=s(43027),w=e([l,c]);[l,c]=w.then?(await w)():w;const _=()=>{const e=(0,o.useRef)(null),t=(0,c.A)(),{showSnackbar:s}=(0,d.Qs)(),{sendMessage:n}=(0,r.A)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.T6P,{onClick:t=>{if((0,h.A)())return(0,g.A)(t),void s((0,a.jsx)(l.A,{}));e.current&&e.current.click()},children:t.use("settings_import_settings_from_file")}),(0,a.jsx)("input",{ref:e,type:"file",accept:".json",style:{display:"none"},onChange:e=>{const{files:t}=e.target;if(!t)return;const s=t[0],a=new FileReader;a.onload=async()=>{if("string"!=typeof a.result)return;const e=JSON.parse(a.result);await(0,u.A)(e),n({type:"sw_reloadVKCOM"}),window.location.reload()},a.readAsText(s)}})]})};n()}catch(e){n(e)}}))},71756:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>g});var a=s(74848),i=s(48081),o=s(39107),l=s(61699),r=s(8015),c=s(57087),d=s(34411),h=s(82050),u=e([r]);r=(u.then?(await u)():u)[0];const g=()=>{const e=(0,r.A)(),t=(0,i.Gz)(),{showSnackbar:n,hideSnackbar:u}=(0,c.Qs)(),{sendMessage:g}=(0,l.A)();return(0,a.jsx)(o.T6P,{onClick:async()=>{t.showPopout((0,a.jsx)(o.WHT,{}));const i=(await s.e(122).then(s.bind(s,70122))).default,l=await i.call("storage.getConfig",{}),r=JSON.parse(l.config||"{}");Object.keys(r).length?(await(0,d.A)(r),g({type:"sw_reloadVKCOM"}),window.location.reload()):(t.showPopout((0,a.jsx)(o.WHT,{state:"error"})),n((0,a.jsx)(o.qb_,{onClose:u,children:e.use("settings_config_not_found")}))),(0,h.A)(1e3).then((()=>t.hidePopout()))},children:e.use("settings_import_settings_from_server")})};n()}catch(e){n(e)}}))},83911:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>d});var a=s(74848),i=s(48081),o=s(39107),l=s(61699),r=s(8015),c=e([r]);r=(c.then?(await c)():c)[0];const d=()=>{const e=(0,r.A)(),t=(0,i.Gz)(),{sendMessage:s,storage:n}=(0,l.A)(),c=async()=>{t.showPopout((0,a.jsx)(o.WHT,{state:"loading"})),await n.local.clear(),await n.sync.clear(),window.localStorage.clear(),window.sessionStorage.clear(),s({type:"sw_reloadVKCOM"}),window.location.reload()};return(0,a.jsx)(o.T6P,{onClick:()=>{t.showPopout((0,a.jsx)(o.V9m,{value:o.ODD.ANDROID,children:(0,a.jsx)(o.FcD,{actions:[{title:e.use("global_ok"),mode:"destructive",action:c},{title:e.use("global_cancel"),mode:"cancel"}],onClose:()=>t.hidePopout(),title:e.use("settings_confirm_action"),description:e.use("settings_confirm_clear_all")})}))},children:e.use("settings_reset_settings")})};n()}catch(e){n(e)}}))},98835:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>w});var a=s(74848),i=s(79369),o=s(61699),l=s(8015),r=s(57087),c=s(16912),d=s(26914),h=s(43027),u=s(39107),g=e([i,l]);[i,l]=g.then?(await g)():g;const w=()=>{const e=(0,l.A)(),{showSnackbar:t}=(0,r.Qs)(),{downloadFile:s}=(0,o.A)();return(0,a.jsx)(u.T6P,{onClick:async e=>{if((0,d.A)())return(0,h.A)(e),void t((0,a.jsx)(i.A,{}));const n=await(0,c.Ay)(!0),o=new Blob([JSON.stringify(n)],{type:"application/json"}),l=URL.createObjectURL(o);await s({url:l,filename:"VKNext_config.json"}),URL.revokeObjectURL(l)},subtitle:e.use("settings_save_settings_to_file_desc"),multiline:!0,children:e.use("settings_save_settings_to_file")})};n()}catch(e){n(e)}}))},90524:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>u});var a=s(74848),i=s(48081),o=s(39107),l=s(95671),r=s(8015),c=s(16912),d=s(82050),h=e([l,r]);[l,r]=h.then?(await h)():h;const u=()=>{const e=(0,r.A)(),t=(0,i.Gz)();return(0,a.jsx)(l.A,{option:"saveConfig",title:e.use("settings_sett_save_config"),subtitle:(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:e.use("settings_sett_save_config_desc")}),onChecked:async e=>{t.showPopout((0,a.jsx)(o.WHT,{}));const n=(await s.e(122).then(s.bind(s,70122))).default,i=await(0,c.Ay)(!1),{ok:l}=await n.call("storage.setConfig",{config:e?JSON.stringify(i):"{}"});t.showPopout((0,a.jsx)(o.WHT,{state:l?"done":"error"})),(0,d.A)(1e3).then((()=>t.hidePopout()))}})};n()}catch(e){n(e)}}))},14876:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>d});var a=s(74848),i=s(8015),o=s(22549),l=s(39107),r=s(16116),c=e([i,o,r]);[i,o,r]=c.then?(await c)():c;const d=()=>{const e=(0,i.A)(),{currentSettingsLang:t,updateValue:s}=(0,o.A)("currentSettingsLang");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.iau,{style:{paddingBlockEnd:0},children:(0,a.jsx)(l.lZ$,{subtitle:e.use("settings_change_lang_warning",{crowdin:(0,a.jsx)(l.N_E,{href:"https://crwd.in/vk-next",target:"_blank",children:"Crowdin"})})})}),(0,a.jsx)(l.eIh,{top:e.use("settings_change_lang_settings"),children:(0,a.jsx)(r.A,{value:t,setValue:s})})]})};n()}catch(e){n(e)}}))},16116:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>r});var a=s(74848),i=s(8015),o=s(39107),l=e([i]);i=(l.then?(await l)():l)[0];const r=({value:e,setValue:t})=>{const s=[{label:(0,i.A)().use("settings_change_lang_auto"),value:-1},{label:"Русский",value:0},{label:"Українська",value:1},{label:"English",value:3},{label:"Беларуская",value:114},{label:"Советский",value:777},{label:"Қазақша",value:97},{label:"Deutsch",value:6},{label:"Polski",value:15},{label:"Português brasileiro",value:73}];return(0,a.jsx)(o.l6P,{options:s,defaultValue:e,onChange:e=>{t(Number(e.target.value))}})};n()}catch(e){n(e)}}))},17779:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(74848),i=s(48081),o=s(39107),l=s(7708),r=s(40411),c=s(48797),d=s(95671),h=s(8015),u=s(68741),g=s(57087),w=s(4899),_=s(71756),p=s(83911),v=s(98835),x=s(90524),A=s(14876),f=e([r,d,h,w,_,p,v,x,A]);[r,d,h,w,_,p,v,x,A]=f.then?(await f)():f;const m=()=>{const e=(0,h.A)(),t=(0,i.Gz)(),s=(0,g.kd)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{hideBackButtonInTablet:!0,backPage:u.JZ.root.main.home,after:(0,a.jsx)(r.A,{}),children:e.use("settings_menu_settings_title")}),(0,a.jsxs)(c.A,{children:[(0,a.jsxs)(o.YJl,{children:[(0,a.jsx)(v.A,{}),(0,a.jsx)(w.A,{})]}),(0,a.jsxs)(o.YJl,{children:[(0,a.jsx)(x.A,{}),(0,a.jsx)(_.A,{})]}),!s&&(0,a.jsx)(o.YJl,{children:(0,a.jsx)(A.A,{})}),(0,a.jsx)(o.YJl,{children:(0,a.jsx)(d.A,{option:"openSettingsInNewTab",title:e.use("settings_sett_open_settings_in_new_tab")})}),(0,a.jsxs)(o.YJl,{separator:"hide",children:[(0,a.jsx)(p.A,{}),(0,a.jsx)(o.T6P,{chevron:"auto",subtitle:e.use("settings_section_clear_cache_description"),onClick:()=>{t.push(u.JZ.root.main_0_0.clearCache)},children:e.use("settings_section_clear_cache_title")})]})]})]})};n()}catch(e){n(e)}}))},16912:(e,t,s)=>{s.d(t,{A1:()=>i,Ay:()=>o});var n=s(98570);const a=["vknext","Themes","VKN_templates"],i=["chatStats","VKNDeletedMessages","VKNExpiredMessages","localRename","StorageMessages","spyning","telegramStickers","wallpaper"],o=async e=>{const{encryptString:t}=await s.e(9038).then(s.bind(s,89038)),o=e?[...i,...a]:a,{storage:l}=(0,n.A)().browserApi,r=await l.local.get(o),c=[];for(const e of Object.values(r.Themes||{}))try{c.push(await t(JSON.stringify(e)))}catch(e){console.error(e)}const d={themes:c,localStorage:r.vknext||{},templates:r.VKN_templates||{}};for(const e of i)r[e]&&(d[e]=r[e]);return d}},26914:(e,t,s)=>{s.d(t,{A:()=>n});const n=()=>!1},34411:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(98570),a=s(16912);const i=async e=>{const{themes:t,localStorage:i,templates:o}=e;if(t&&Array.isArray(t)){const{decryptString:e}=await s.e(9038).then(s.bind(s,89038)),n={};for(const{themeId:s,dataId:a}of t)try{const t=JSON.parse(await e(s,a));t.themeId&&(n[t.themeId]=t)}catch(e){console.error(e)}const a=(await s.e(2425).then(s.bind(s,92425))).default;await a.setThemes(n)}if(i){(await Promise.resolve().then(s.bind(s,74632))).default.setStorage(i)}if(o){(await s.e(6552).then(s.bind(s,86552))).default.setStorage(o)}const l={};for(const t of a.A1)e[t]&&(l[t]=e[t]);const{storage:r}=(0,n.A)().browserApi;return await r.local.set(l),!0}},15033:(e,t,s)=>{s.d(t,{l:()=>a});var n=s(96540);const a=()=>{const[e,t]=(0,n.useState)({width:window.innerWidth,height:window.innerHeight,lastWidth:void 0,lastHeight:void 0}),s=()=>{t({lastWidth:e.width,lastHeight:e.height,width:window.innerWidth,height:window.innerHeight})};return(0,n.useEffect)((()=>{s()}),[]),(0,n.useEffect)((()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s))),[e]),e}},27514:(e,t,s)=>{s.d(t,{A:()=>n});const n=e=>void 0!==e&&!1!==e&&null!==e&&""!==e}}]);