"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3597],{75591:(t,a,n)=>{n.d(a,{A:()=>o});var e=n(65578);const o=()=>(0,e.A)("Calls","web/calls.js")},73597:(t,a,n)=>{n.a(t,(async(t,e)=>{try{n.r(a);var o=n(57580),l=n(25915),r=n(75591),c=n(93819),s=n(43024),i=t([o]);let u;o=(i.then?(await i)():i)[0];const w=async()=>{const t=await c.A;return await new Promise((a=>{const n=new window.MessageBox;n.setOptions({title:t.use("vkcom_confirmation")}),n.content(t.use("vkcom_do_you_want_call")),n.addButton(t.use("vkcom_yes"),(()=>{n.hide(),a(1)})),n.addButton(t.use("vkcom_no"),(()=>n.hide())),n.show()}))},d=t=>{t.vknStartGroupCall=t.vknStartGroupCall||t.startGroupCall,t.vknCall=t.vknCall||t.call,t.startGroupCall=async function(...a){if(await w())return t.vknStartGroupCall(...a)},t.call=async function(...a){if(await w())return t.vknCall(...a)}},k=t=>{t.startGroupCall=t.vknStartGroupCall,t.call=t.vknCall},C=async t=>{u&&(u.remove(),u=null),await(0,r.A)(),t?u=(0,l.A)(window,"Calls",d):k(window.Calls)};0,s.default.onInited((()=>{s.default.getValue("callsConfirmation")&&C(!0)})),s.default.addChangeKeyListener("callsConfirmation",((t,a)=>{C(a)})),e()}catch(t){e(t)}}))},25915:(t,a,n)=>{n.d(a,{A:()=>e});const e=(t,a,n)=>{if(!(a in t))throw console.warn("[VK Next objectHook]:",t,t[a]),new Error(`[VK Next objectHook]: object "${String(a)}" not found`);let e=t[a];try{n(e)}catch(t){console.error(t)}return Object.defineProperty(t,a,{get:()=>e,set(t){e=t;try{n(e)}catch(t){console.error(t)}return e}}),{remove:()=>{delete t[a],t[a]=e}}}}}]);