"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1077,6728],{50767:(e,t,a)=>{a.d(t,{P:()=>s});var s=(0,a(93543).mT)("Icon24DeleteOutline","delete_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="delete_outline_24"><path fill-rule="evenodd" d="M14.556 8.102a.9.9 0 0 1 .842.954l-.5 8a.9.9 0 0 1-1.796-.112l.5-8a.9.9 0 0 1 .954-.842m-5.112 0a.9.9 0 0 0-.842.954l.5 8a.9.9 0 1 0 1.796-.112l-.5-8a.9.9 0 0 0-.954-.842" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 4.1a.9.9 0 1 0 0 1.8h1.18l1.155 12.316c.045.484.084.898.143 1.237.062.359.157.704.351 1.03a2.9 2.9 0 0 0 1.249 1.137c.342.162.695.225 1.057.253.344.027.76.027 1.246.027h5.238c.486 0 .902 0 1.246-.027.362-.028.715-.09 1.057-.253a2.9 2.9 0 0 0 1.249-1.137c.194-.326.289-.671.35-1.03.06-.34.099-.753.144-1.237L19.82 5.9H21a.9.9 0 1 0 0-1.8h-5.204a3.901 3.901 0 0 0-7.592 0zm4.124 13.915c.05.526.082.869.128 1.13.043.252.087.356.124.417a1.1 1.1 0 0 0 .474.432c.064.03.172.065.426.085.265.02.61.021 1.138.021h5.172c.528 0 .873 0 1.138-.021.254-.02.362-.055.426-.085a1.1 1.1 0 0 0 .474-.432c.037-.06.08-.166.124-.416.046-.262.079-.605.128-1.131L18.012 5.9H5.988zM12 2.9a2.1 2.1 0 0 0-1.898 1.2h3.796A2.1 2.1 0 0 0 12 2.9" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},29680:(e,t,a)=>{a.d(t,{R:()=>s});var s=(0,a(93543).mT)("Icon28StickerSmileOutline","sticker_smile_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="sticker_smile_outline_28"><path d="M12.494 11.5a1.507 1.507 0 0 1-1.506 1.5 1.493 1.493 0 0 1-1.494-1.5c.003-.828.678-1.5 1.506-1.5s1.497.672 1.494 1.5m7-1.5a1.507 1.507 0 0 1-1.506 1.5 1.493 1.493 0 0 1-1.494-1.5c.003-.828.678-1.5 1.506-1.5s1.497.672 1.494 1.5" /><path fill-rule="evenodd" d="M23.834 13.997a3 3 0 0 0 .165-.098c.05 3.901-2.411 7.44-6.08 8.717a3 3 0 0 0 .05-.297c.068-.54-.047-1.133-.19-1.872l-.028-.147c-.31-1.614-.409-2.19-.352-2.654a3.21 3.21 0 0 1 1.671-2.439c.412-.22.985-.337 2.602-.63l.112-.02.153-.028c.775-.14 1.397-.252 1.897-.532m-6.962 10.951-1.856.328q-.309.059-.658.118l-.148.026-.242.041-.405.072c-1.126.199-2.03.358-2.773.428-.763.071-1.442.057-2.102-.145a5.2 5.2 0 0 1-2.638-1.85c-.415-.552-.66-1.186-.855-1.929-.188-.722-.348-1.628-.546-2.756l-1.183-6.717c-.198-1.128-.358-2.034-.427-2.777-.071-.765-.057-1.444.144-2.105A5.2 5.2 0 0 1 5.03 5.04c.551-.416 1.185-.662 1.926-.856.722-.19 1.626-.35 2.751-.548l6.618-1.169c1.125-.199 2.03-.358 2.772-.428.763-.071 1.443-.057 2.103.145a5.2 5.2 0 0 1 2.638 1.85c.415.552.66 1.186.854 1.929.19.722.349 1.628.547 2.756l.591 3.359c1.059 6.014-2.94 11.807-8.958 12.87M19.283 4.03c-.651.061-1.475.206-2.652.414l-6.533 1.154c-1.178.208-2.002.354-2.634.52-.622.163-.973.325-1.229.518-.542.41-.94.98-1.139 1.63-.094.308-.125.694-.066 1.335.061.653.206 1.478.413 2.658l1.168 6.633c.208 1.18.354 2.005.52 2.64.162.622.324.974.517 1.231a3.2 3.2 0 0 0 1.625 1.14c.307.095.692.126 1.331.067a19 19 0 0 0 1.313-.185l1.707-.294.928-.164c.422-.08.578-.125.693-.185.407-.215.683-.614.74-1.07.023-.182-.013-.432-.198-1.395l-.035-.185c-.15-.774-.271-1.404-.33-1.955-1.159.184-2.242.075-3.068-.091a9.3 9.3 0 0 1-1.765-.534 1 1 0 0 1 .819-1.825c.427.184.886.307 1.34.398.815.164 1.849.24 2.874-.03a5.21 5.21 0 0 1 2.503-3.01c.727-.39 1.643-.556 3.004-.802l.185-.034.113-.02c1.007-.183 1.262-.243 1.43-.337.378-.211.637-.583.704-1.01.03-.19-.002-.45-.18-1.46l-.448-2.543a14 14 0 0 0-.176-.77c-.163-.623-.324-.975-.517-1.232a3.2 3.2 0 0 0-1.626-1.14c-.306-.095-.691-.126-1.33-.067Zm-6.789 7.47a1.507 1.507 0 0 1-1.506 1.5 1.493 1.493 0 0 1-1.494-1.5c.003-.828.678-1.5 1.506-1.5s1.497.672 1.494 1.5m7-1.5a1.507 1.507 0 0 1-1.506 1.5 1.493 1.493 0 0 1-1.494-1.5c.003-.828.678-1.5 1.506-1.5s1.497.672 1.494 1.5" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},34019:(e,t,a)=>{a.d(t,{n:()=>s});var s=(0,a(93543).mT)("Icon28SyncOutline","sync_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sync_outline_28"><g fill="currentColor"><path d="M21.509 4.5a1 1 0 0 1 1 1V9a1 1 0 0 1-1 1h-3.502a1 1 0 1 1 0-2h1.292a7.98 7.98 0 0 0-5.294-2 8.004 8.004 0 0 0-7.955 7.11 1 1 0 0 1-1.989-.22A10.004 10.004 0 0 1 14.005 4a9.97 9.97 0 0 1 6.503 2.4v-.9a1 1 0 0 1 1-1M23.064 14.006a1 1 0 0 1 .885 1.104A10.004 10.004 0 0 1 14.005 24a9.97 9.97 0 0 1-6.503-2.4v.9a1 1 0 0 1-2.001 0V19a1 1 0 0 1 1-1h3.502a1 1 0 1 1 0 2H8.71a7.97 7.97 0 0 0 5.295 2 8.004 8.004 0 0 0 7.955-7.11 1 1 0 0 1 1.104-.884" /></g></symbol>',28,28,!1,void 0)},7708:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(74848),n=a(48081),i=a(39107),c=a(13742),r=a(68741),l=a(91691);const o="zRIhm_rzeRaOj2Bs",d="m8aAYX3glAEj5Q3G",h=({beforeClassname:e,backPage:t,hideButtonIsFirstPage:a,hideBackButtonInTablet:h,children:u,..._})=>{const k=(0,n.XC)(),g=(0,n.Gz)(),{width:m}=(0,c.A)();let w=a&&k&&(0,l.A)();return h&&(m||800)>768&&(w=!0),(0,s.jsx)(i.aOn,{before:!w&&(0,s.jsx)(i.Hy0,{onClick:async()=>{k?t?await g.replace(t):await g.push(r.JZ.root.main.home):await g.back()},className:(0,i.xWm)(o,e),hideLabelOnIOS:!0}),..._,children:(0,s.jsx)("div",{className:d,children:u})})}},48797:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(74848),n=a(39107),i=a(58006);const c=({children:e,isTabs:t=!1,style:a={},...c})=>{const r=(0,i.A)({isTabs:t});return a.maxHeight||(a.maxHeight=r),(0,s.jsx)(n.guY,{style:a,...c,children:e})}},21943:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.d(t,{A:()=>u});var n=a(74848),i=a(3178),c=a(39107),r=a(8015),l=a(57087),o=a(90275),d=a(99381),h=e([r]);r=(h.then?(await h)():h)[0];const u=()=>{const e=(0,r.A)(),{showSnackbar:t,hideSnackbar:s}=(0,l.Qs)();return(0,n.jsx)(o.Ku,{actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.vH,{onClick:async()=>{const i=(await a.e(9817).then(a.bind(a,69817))).default,r=await i.getStorage();delete(r[0]||{}).tgToken,i.setStorage(r),t((0,n.jsx)(c.qb_,{duration:3e3,onClose:s,children:e.use("settings_reset_token_ok")}))},children:e.use("settings_reset_token")}),(0,n.jsx)(o.vH,{onClick:async()=>{(await Promise.resolve().then(a.bind(a,36728))).default.setPacks([]),t((0,n.jsx)(c.qb_,{duration:3e3,onClose:s,children:e.use("settings_delete_all_tg_packs_ok")}))},children:e.use("settings_delete_all_tg_packs")})]}),trigger:"hover",placement:"bottom-end",children:(0,n.jsx)(c.qAe,{onClick:d.A,hasActive:!1,children:(0,n.jsx)(i.o,{})})})};s()}catch(e){s(e)}}))},17858:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.d(t,{A:()=>x});var n=a(74848),i=a(29680),c=a(34019),r=a(50767),l=a(48081),o=a(39107),d=a(96540),h=a(61699),u=a(8015),_=a(68741),k=a(36728),g=a(57087),m=a(82050),w=a(80061),b=e([u,k]);[u,k]=b.then?(await b)():b;const x=({pack:e,index:t,isDraggable:s})=>{const b=(0,u.A)(),[x,j]=(0,d.useState)(!1),p=(0,l.Gz)(),{showSnackbar:v,hideSnackbar:f}=(0,g.Qs)(),{sendMessage:A}=(0,h.A)(),y=(0,d.useCallback)((async(e=!0)=>{p.showPopout((0,n.jsx)(o.WHT,{state:"error"})),e&&(await(0,m.A)(1e3),p.hidePopout())}),[p]),P=(0,d.useCallback)((async()=>{const e=await a.e(8279).then(a.bind(a,38279)).then((e=>e.default));p.showPopout((0,n.jsx)(e,{}))}),[p]),S=e.thumb||e.stickers[0]?.data;return(0,n.jsx)(o.fhW,{draggable:s,onDragFinish:({from:e,to:t})=>(({from:e,to:t})=>{const a=k.default.getPacks(),s=[...a];s.splice(e,1),s.splice(t,0,a[e]),k.default.setPacks(s)})({from:e,to:t}),before:(0,n.jsx)(o.K0,{href:`https://t.me/addstickers/${e.name}`,target:"_blank",style:{marginRight:12},children:(0,n.jsx)(o.euF,{size:40,fallbackIcon:(0,n.jsx)(i.R,{width:24,height:24}),src:"data:image/webp;base64,"+S})}),after:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.K0,{hasActive:!1,disabled:x,onClick:async()=>{j(!0);const t=e.name,{TelegramAPI:s}=await Promise.resolve().then(a.bind(a,80894)),i=(await a.e(9817).then(a.bind(a,69817))).default,c=new s((await i.getTokens(0))?.tgToken||"");if(!c.isValidToken())return await y(!1),void await P();if(!(await c.getMe()).ok)return v((0,n.jsx)(o.qb_,{duration:2e3,onClose:f,children:b.use("settings_menu_no_auth_title")})),await y(!1),void await P();const{ok:r,result:l}=await c.getStickerSet({name:t});if(!r)return;const d=await A({type:"sw_d_tgs",name:t,title:l.title,thumb:l.thumb,stickers:l.stickers});d?.ok&&v((0,n.jsx)(o.qb_,{duration:2e3,onClose:f,children:b.use("settings_sticker_pack_updated")})),j(!1)},children:(0,n.jsx)(c.n,{width:24,height:24,className:x?w.A.SyncButton:void 0})}),(0,n.jsx)(o.K0,{hasActive:!1,onClick:()=>(e=>{const t=k.default.getPacks();t.splice(e,1),k.default.setPacks(t)})(t),style:{color:"var(--vkui--color_icon_negative)"},children:(0,n.jsx)(r.P,{})})]}),subtitle:`${b.use("settings_stickers_count")}: ${e.stickers.length}`,children:(0,n.jsx)(o.N_E,{style:{textDecoration:"none"},onClick:()=>{p.push(_.JZ.root.main_0_0.viewPack,{name:e.name})},children:e.title})})};s()}catch(e){s(e)}}))},8875:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.d(t,{A:()=>h});var n=a(74848),i=a(8015),c=a(36728),r=a(39107),l=a(96540),o=a(17858),d=e([i,c,o]);[i,c,o]=d.then?(await d)():d;const h=()=>{const e=(0,i.A)(),[t,a]=(0,l.useState)(c.default.getPacks());if((0,l.useEffect)((()=>c.default.addListener(((e,t)=>{a(t)}))),[]),!t)return(0,n.jsx)(r.YJl,{separator:"hide",children:(0,n.jsx)(r.qBl,{size:"m"})});if(t.length){const a=t.length>1;return(0,n.jsx)(r.YJl,{separator:"hide",header:(0,n.jsx)(r.Y9Y,{size:"s",children:e.use("settings_tg_stickers_added_list")}),children:(0,n.jsx)(r.B8B,{children:t.map(((e,t)=>(0,n.jsx)(o.A,{pack:e,index:t,isDraggable:a},`pack${t}_${e.file_id}`)))})})}return(0,n.jsx)(r.YJl,{separator:"hide",children:(0,n.jsx)(r.OrA,{children:e.use("settings_tg_stickers_not_found")})})};s()}catch(e){s(e)}}))},3014:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.d(t,{A:()=>k});var n=a(74848),i=a(48081),c=a(39107),r=a(96540),l=a(61699),o=a(8015),d=a(57087),h=a(82050),u=a(80061),_=e([o]);o=(_.then?(await _)():_)[0];const k=()=>{const e=(0,o.A)(),t=(0,i.Gz)(),{showSnackbar:s,hideSnackbar:_}=(0,d.Qs)(),[k,g]=(0,r.useState)(""),m=(0,r.useRef)(null),{sendMessage:w}=(0,l.A)();(0,r.useEffect)((()=>{m.current&&m.current.focus()}),[]);const b=(0,r.useCallback)((async(e=!0)=>{t.showPopout((0,n.jsx)(c.WHT,{state:"error"})),e&&(await(0,h.A)(1e3),t.hidePopout())}),[t]),x=(0,r.useCallback)((async()=>{const e=await a.e(8279).then(a.bind(a,38279)).then((e=>e.default));t.showPopout((0,n.jsx)(e,{}))}),[t]),j=async()=>{t.showPopout((0,n.jsx)(c.WHT,{}));const i=k.split("/").at(-1);if(!i)return s((0,n.jsx)(c.qb_,{duration:2500,onClose:_,children:e.use("settings_invalid_link")})),void await b();const r=(await a.e(9817).then(a.bind(a,69817))).default,l=await r.getTokens(0),{TelegramAPI:o}=await Promise.resolve().then(a.bind(a,80894)),d=new o(l?.tgToken||"");if(!d.isValidToken())return await b(!1),void await x();if(!(await d.getMe()).ok)return s((0,n.jsx)(c.qb_,{duration:2e3,onClose:_,children:e.use("settings_menu_no_auth_title")})),await b(!1),void await x();const{ok:u,result:j}=await d.getStickerSet({name:i});if(!u)return s((0,n.jsx)(c.qb_,{duration:2500,onClose:_,children:e.use("settings_animated_stickers_cant_be_added")})),void await b();if(j.stickers.some((e=>e.is_animated||e.is_video)))return s((0,n.jsx)(c.qb_,{duration:3e3,onClose:_,children:e.use("settings_animated_stickers_cant_be_added")})),void await b();const p=await w({type:"sw_d_tgs",name:i,title:j.title,thumb:j.thumb,stickers:j.stickers});p.ok&&(s((0,n.jsx)(c.qb_,{duration:4e3,onClose:_,subtitle:e.use("settings_sticker_pack_added_desc"),children:e.use("settings_sticker_pack_added")})),g("")),t.showPopout((0,n.jsx)(c.WHT,{state:p?.ok?"done":"error"})),await(0,h.A)(1e3),t.hidePopout(),m.current&&m.current.focus()},p=k.trim().length<=0;return(0,n.jsx)(c.eIh,{top:e.use("settings_tg_stickers_link_form_name_label"),children:(0,n.jsxs)("div",{className:u.A.SearchPack,children:[(0,n.jsx)("div",{className:u.A.SearchPack__input,children:(0,n.jsx)(c.pde,{getRef:m,value:k,onChange:e=>g(e.target.value),placeholder:e.use("settings_tg_stickers_link_form_name_placeholder"),onKeyUp:e=>{"Enter"!==e.key||p||j()}})}),(0,n.jsx)("div",{className:u.A.SearchPack__button,children:(0,n.jsx)(c.$nd,{onClick:j,disabled:p,size:"l",children:e.use("settings_add_tg_stickers")})})]})})};s()}catch(e){s(e)}}))},81077:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.r(t),a.d(t,{default:()=>k});var n=a(74848),i=a(39107),c=a(7708),r=a(8015),l=a(68741),o=a(8875),d=a(3014),h=a(48797),u=a(21943),_=e([r,o,d,u]);[r,o,d,u]=_.then?(await _)():_;const k=()=>{const e=(0,r.A)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{hideBackButtonInTablet:!0,backPage:l.JZ.root.main.home,after:(0,n.jsx)(u.A,{}),children:e.use("settings_menu_tg_stickers_title")}),(0,n.jsxs)(h.A,{children:[(0,n.jsx)(i.YJl,{children:(0,n.jsx)(d.A,{})}),(0,n.jsx)(o.A,{})]})]})};s()}catch(e){s(e)}}))},36728:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});const e=(0,a(98570).A)().browserApi;let n=(await e.storage.local.get("telegramStickers")).telegramStickers||[];e.storage.local.onChanged.addListener("telegramStickers",(e=>{n=Array.isArray(e.newValue)?[...e.newValue]:[]}));const i=()=>e.storage.local.set({telegramStickers:n}),c={addPack(e){n.push(e),i().catch(console.error)},addListener:t=>e.storage.local.onChanged.addListener("telegramStickers",(e=>t(e.oldValue||[],e.newValue||[]))),getPacks:()=>[...n],setPacks:e=>(n=e,i().catch(console.error),!0),clearStorage(){n=[],i().catch(console.error)}};s()}catch(e){s(e)}}),1)},80061:(e,t,a)=>{a.d(t,{A:()=>s});const s={SearchPack:"Uxpe_mbecnpC4169",SearchPack__input:"GFFH3QxMx5HqAEBW",SearchPack__button:"G2FzXnd1BfGbQj2j",SyncButton:"Gu93IPLx69TYbN6j",rotating:"pmn4YY4u85UuKjI0",AlertWriteToken__botFather:"YDfGSdTeb_3_F7sy",AlertWriteToken__form:"Eu3mwo_lW_xwMRiT"}}}]);