"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[426,5633],{5622:(e,o,t)=>{t.d(o,{A:()=>a});var r=t(65578);const a=()=>(0,r.A)("colorScheme")},65407:(e,o,t)=>{t.d(o,{A:()=>a});var r=t(8253);const a=(e,o=!1)=>{let t="";for(const[r,a]of Object.entries(e.variables))(o||!r.endsWith("--active")&&!r.endsWith("--hover"))&&(t+=`${r}:${a}!important;`);return 0!==t.length&&`${r.P}{${t}}`}},39083:(e,o,t)=>{t.a(e,(async(e,r)=>{try{t.r(o);var a=t(57580),n=t(45633),i=t(43024),c=t(83083),_=e([a]);a=(_.then?(await _)():_)[0];0,(async()=>{await new Promise(i.default.onInited),(0,c.A)(i.default.getValue("currentTheme")),i.default.addChangeKeyListener("currentTheme",((e,o)=>{(0,c.A)(o)})),n.default.addListener(((e,o)=>{const t=i.default.getValue("currentTheme");JSON.stringify(e[t])!==JSON.stringify(o[t])&&(0,c.A)(t)})),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{const e=i.default.getValue("currentTheme");["auto",null].includes(e)&&(0,c.A)(e)}))})().catch(console.error),r()}catch(e){r(e)}}))},83083:(e,o,t)=>{t.d(o,{A:()=>L});var r=t(84436),a=t(60962),n=t(31381),i=t(14943),c=t(43024),_=t(8253);const l=(e,o)=>`${e}:${o}!important;`,d=async(e,o=!0)=>{if(!o)return!1;if(!e)return!1;const r={...e.variables};for(const e of Object.keys(r))(e.endsWith("--active")||e.endsWith("--hover"))&&delete r[e];const{getExpandedThemeColors:a}=await t.e(6550).then(t.bind(t,6550)),n=a({colorsScheme:e.stickersOutline?"dark":"light",colors:r});let i="";const{isColorWithStates:c}=await t.e(3415).then(t.bind(t,23415));for(const e of Object.keys(n)){const o=n[e];if(!c(o))continue;const{normal:t,hover:r,active:a}=o;t&&(i+=l(e,t)),r&&(i+=l(`${e}--hover`,r)),a&&(i+=l(`${e}--active`,a))}return`${_.P}{${i}}`};var u=t(65407),k=t(20289),s=t(9155),v=t(2392),m=t(45633);const h=["light","vkcom_dark"],g={vknext_gray:v,vknext_dark:s},b=async e=>{if(e in g)return g[e];await new Promise(m.default.onInited);const o=(m.default.getThemes()||{})[e];if(o){if(o.style){const t=(0,k.A)(o);return m.default.setTheme(e,t),t}return o}};var y=t(23903);const p=e=>{document.documentElement.classList.contains(e)||document.documentElement.classList.add(e)},f=e=>{document.documentElement.classList.contains(e)&&document.documentElement.classList.remove(e)};var w=t(82050),A=t(5622);const x=async(e=0)=>!!((await(0,A.A)()).isExecuted||e>150)||(await(0,w.A)(150),await x(e+1)),S=async()=>{const e=await(0,A.A)(),o=e.setMode.bind(e);return await x(),o},T=new r.A({hiddenAutoInject:!0}),E=e=>{e?p(y.A.themeSideBarSecondary):f(y.A.themeSideBarSecondary)},O=e=>{e?p(y.A.themeHeaderAccent):f(y.A.themeHeaderAccent)},$=e=>{e?p(y.A.themeEnabled):f(y.A.themeEnabled)},C=()=>{T.unuse(),O(!1),E(!1),$(!1)},I=e=>"vkcom_dark"===e?"dark":"light"===e?"light":"auto",L=async e=>{if(null===e&&(e="auto"),"auto"===e&&(e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?c.default.getValue("secondTheme"):c.default.getValue("firstTheme")),h.includes(e)){return(await S())(I(e)),void C()}const o=await b(e);if(!o){return(await S())(I(e)),void C()}O(o.headerAccent),E(o.sideBarSecondary),$(!0);const t="complete"===document.readyState,r=t?await d(o):(0,u.A)(o);if(T.innerContent=r||"",T.use(),await(0,n.A)(),await(0,i.A)(),!t){await new Promise(a.A),await(0,i.A)();const e=await d(o);e&&(T.innerContent=e)}(await S())(o.stickersOutline?"dark":"light")}},45633:(e,o,t)=>{t.r(o),t.d(o,{default:()=>n});var r=t(44181);class a extends r.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,o){const t=this.getStorage();t[e]=o,this.saveStorage(t)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const o=this.getStorage();delete o[e],this.saveStorage(o)}}const n=new a},49032:(e,o,t)=>{t.d(o,{Fl:()=>i,XZ:()=>n,hj:()=>a,lz:()=>r});const r=/(^|\/)al_im\.php|(^|\/)im(\?|$)|(^|\/)gim\d+|\/write-?\d+/,a=/(^|\/)al_im\.php|(^|\/)im(\?|$)|\/write-?\d+|\/im\/.*/,n={"--accent":"--vkui--color_icon_accent","--background_content":"--vkui--color_background_content","--background_highlighted":"--vkui--color_transparent--active","--background_hover":"--vkui--color_transparent--hover","--background_light":"--vkui--color_background_tertiary","--background_page":"--vkui--color_background","--background_suggestions":"--vkui--color_background_modal","--button_commerce_background":"--vkui--color_text_positive","--button_secondary_background":"--vkui--color_background_secondary_alpha","--button_secondary_destructive_foreground":"--vkui--color_background_negative","--content_tint_background":"--vkui--color_background_secondary","--content_warning_background":"--vkui--color_background_warning","--counter_prominent_text":"--vkui--color_text_contrast","--destructive":"--vkui--color_text_negative","--dynamic_gray":"--vkui--color_accent_gray","--dynamic_green":"--vkui--color_accent_green","--dynamic_orange":"--vkui--color_accent_orange","--dynamic_purple":"--vkui--color_accent_purple","--dynamic_red":"--vkui--color_accent_red","--dynamic_violet":"--vkui--color_accent_violet","--dynamic_blue":"--vkui--color_accent_blue","--dynamic_raspberry_pink":"--vkui--color_accent_raspberry_pink","--field_background":"--vkui--color_field_background","--field_border":"--vkui--color_field_border_alpha","--field_error_background":"--vkui--color_background_negative_tint","--field_error_border":"--vkui--color_stroke_negative","--field_valid_border":"--vkui--color_stroke_positive","--header_background":"--vkui--color_header_background","--header_tint_alternate":"--vkui--color_icon_accent_themed","--icon_alpha_placeholder":"--vkui--color_icon_contrast","--icon_medium_alpha":"--vkui--color_icon_medium_alpha","--icon_medium":"--vkui--color_icon_medium","--icon_secondary_alpha":"--vkui--color_icon_secondary_alpha","--icon_secondary":"--vkui--color_icon_secondary","--icon_tertiary_alpha":"--vkui--color_icon_tertiary_alpha","--icon_tertiary":"--vkui--color_icon_tertiary","--image_border":"--vkui--color_image_border_alpha","--input_background":"--vkui--color_write_bar_input_background","--input_border":"--vkui--color_write_bar_input_border_alpha","--link_alternate":"--vkui--color_text_link_themed","--loader_track_fill":"--vkui--color_track_background","--loader_track_value_fill":"--vkui--color_track_buffer","--placeholder_icon_background_opaque":"--vkui--color_image_placeholder_alpha","--placeholder_icon_background":"--vkui--color_image_placeholder","--search_bar_field_background":"--vkui--color_search_field_background","--segmented_control_bar_background":"--vkui--color_segmented_control","--separator_alpha":"--vkui--color_separator_primary_alpha","--separator_alternate":"--vkui--color_separator_secondary","--separator_common":"--vkui--color_separator_primary","--skeleton_foreground_from":"--vkui--color_skeleton_from","--skeleton_foreground_to":"--vkui--color_skeleton_to","--text_link":"--vkui--color_text_link","--text_muted":"--vkui--color_text_muted","--text_primary":"--vkui--color_text_primary","--text_secondary":"--vkui--color_text_secondary","--text_subhead":"--vkui--color_text_subhead","--text_tertiary":"--vkui--color_text_tertiary","--writebar_icon":"--vkui--color_write_bar_icon","--gray_400":"--vkui--color_text_secondary","--gray_500":"--vkui--color_text_subhead","--gray_600":"--vkui--color_text_subhead","--gray_900":"--vkui--color_text_muted","--im_forward_line_tint":"--vkui--vkontakte_color_im_forward_line_alpha","--im_bubble_incoming":"--vkui--vkontakte_color_im_bubble_incoming","--im_bubble_incoming_alternate":"--vkui--vkontakte_color_im_bubble_incoming_alternate","--im_bubble_incoming_expiring":"--vkui--vkontakte_color_im_bubble_incoming_expiring","--im_bubble_border_alternate_highlighted":"--vkui--vkontakte_color_im_bubble_border_alternate_highlighted_alpha","--modal_card_background":"--vkui--color_background_modal","--im_bubble_outgoing":"--vkui--vkontakte_color_im_bubble_outgoing"},i=1e3},31381:(e,o,t)=>{t.d(o,{A:()=>a});let r=null;const a=async e=>document.body?document.body:r&&!e?r:(r=new Promise((e=>{if(document.body)return e(document.body);const o=new MutationObserver((()=>{document.body&&(e(document.body),o.disconnect())}));o.observe(document.documentElement,{childList:!0})})),await r)},8253:(e,o,t)=>{t.d(o,{P:()=>r});const r=[":root","body",".vkui--vkBase--dark",".vkui--vkBase--light",".vkui--vkCom--dark",".vkui--vkCom--light",".vkui--vkIOS--dark",".vkui--vkIOS--light",".vkui--vkontakteIOS--light",".vkui--vkontakteIOS--dark","[scheme=space_gray]","[scheme=bright_light]"].join(",")},23903:(e,o,t)=>{t.d(o,{A:()=>r});const r={themeEnabled:"Y5DFMzREEVez_PfI",themeSideBarSecondary:"kpK9QldvFIOOFARE",themeHeaderAccent:"mV5AqjyoA59TezVH"}}}]);