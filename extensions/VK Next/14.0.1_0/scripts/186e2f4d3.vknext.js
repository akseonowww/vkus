"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[6968,5633,5544,6191,8572],{48779:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>g});var s=n(74848),c=n(39107),a=n(88486),r=n(30595),i=n(62229),l=n(91937),d=n(21751),A=n(40337),u=n(81550),h=e([r,i,l]);[r,i,l]=h.then?(await h)():h;const m=()=>{const[e]=(0,a.Mj)("themeEditorPanel","colors"),t=(0,A.A)();return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,c.xWm)(u.A.Viewer__panel,"colors"===e&&u.A["Viewer__panel--active"]),children:(0,s.jsx)(r.A,{blocks:t.colors})},"colors"),(0,s.jsx)("div",{className:(0,c.xWm)(u.A.Viewer__panel,"settings"===e&&u.A["Viewer__panel--active"]),children:(0,s.jsx)(r.A,{blocks:t.settings})},"settings")]}):(0,s.jsx)("div",{className:u.A.Center,children:(0,s.jsx)(c.qBl,{})})},g=()=>(0,s.jsx)(d.A,{children:(0,s.jsxs)("div",{className:u.A.ThemeEditorPanel,children:[(0,s.jsx)(l.A,{}),(0,s.jsx)(m,{}),(0,s.jsx)(i.A,{})]})});o()}catch(e){o(e)}}))},30595:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>A});var s=n(74848),c=n(90275),a=n(94311),r=n(96957),i=n(28457),l=n(57333),d=e([a,r,i,l]);[a,r,i,l]=d.then?(await d)():d;const A=({blocks:e})=>(0,s.jsx)(s.Fragment,{children:e.map(((e,t)=>"Color"===e.kind?(0,s.jsx)(a.A,{...e},e.id):"Separator"===e.kind?(0,s.jsx)(c.AS,{},"separator"+t):"Header"===e.kind?(0,s.jsx)(r.A,{...e},e.id):"Input"===e.kind?(0,s.jsx)(i.A,{...e},e.id):"Switch"===e.kind?(0,s.jsx)(l.A,{...e},e.id):(0,s.jsx)(c.vH,{disabled:!0,subtitle:JSON.stringify(e),children:"Unknown block"},t)))});o()}catch(e){o(e)}}))},94311:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>v});var s=n(74848),c=n(90275),a=n(75623),r=n(21690),i=n(39107),l=n(96540),d=n(65189),A=n(87675),u=n(67194),h=n(86262),m=e([A]);A=(m.then?(await m)():m)[0];const g=e=>0===e?"00":Math.round(255*e).toString(16),x=e=>`${e.hex}${g(e?.rgb?.a??1)}`,v=({id:e,title:t,target:n,alternatives:o})=>{const m=(0,A.A)(),[g,v]=(0,u.A)(),p=(0,l.useRef)(g.variables[n]||window.getComputedStyle(document.body).getPropertyValue(n)),[f,_]=(0,l.useState)(p.current),y=e=>{_(e);const t={...g.variables,[n]:e};if(Array.isArray(o))for(const n of o)t[n]=e;v({...g,variables:t})},j=e=>{y(x(e))},b=m.use(`vkcom_theme_editor_color_${e}`)||t;return(0,s.jsx)(c.vH,{title:b.length>30?b:void 0,hasHover:!1,rightIcon:(0,s.jsxs)("div",{className:h.A.ColorBlock__buttons,children:[p.current!==f&&(0,s.jsx)(i.K0,{className:h.A.ColorBlock_backButton,onClick:()=>y(p.current),children:(0,s.jsx)(r.r,{})}),(0,s.jsx)(a.A,{trigger:"hover",content:(0,s.jsx)(d.xk,{className:h.A.ChromePicker,color:f||"",onChange:j,onChangeComplete:j}),children:(0,s.jsx)(i.K0,{className:h.A.ColorBlock__item,children:(0,s.jsx)("div",{style:{backgroundColor:f},className:h.A.ColorBlock__itemColor})})})]}),children:b})};o()}catch(e){o(e)}}))},62229:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>d});var s=n(74848),c=n(39107),a=n(87675),r=n(43024),i=n(63864),l=e([a]);a=(l.then?(await l)():l)[0];const d=()=>{const e=(0,a.A)();return(0,s.jsx)("footer",{className:i.A.Footer,children:(0,s.jsx)(c.$nd,{stretched:!0,onClick:()=>r.default.setValue("themeEditor",!1),children:e.use("global_save")})})};o()}catch(e){o(e)}}))},96957:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>i});var s=n(74848),c=n(39107),a=n(87675),r=e([a]);a=(r.then?(await r)():r)[0];const i=({title:e,id:t,size:n="m"})=>{const o=(0,a.A)();return(0,s.jsx)(c.Y9Y,{size:n,children:o.use(`vkcom_theme_editor_${t}`)||e})};o()}catch(e){o(e)}}))},28457:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>A});var s=n(74848),c=n(39107),a=n(96540),r=n(87675),i=n(67194),l=n(24676),d=e([r]);r=(d.then?(await d)():d)[0];const A=({id:e,storageKey:t,placeholder:n,top:o,defaultValue:d})=>{const A=(0,r.A)(),[u,h]=(0,i.A)(),[m,g]=(0,a.useState)(u[t]||d);(0,a.useEffect)((()=>{u[t]!==m&&h({...u,[t]:m})}),[m]);return(0,s.jsx)(c.eIh,{top:A.use(`vkcom_theme_editor_settings_${e}`)||o,className:l.A.InputBlock,children:(0,s.jsx)(c.pde,{value:m,onChange:e=>{const t=e.currentTarget.value;g(t||d)},placeholder:A.use(`vkcom_theme_editor_settings_placeholder_${e}`)||n})})};o()}catch(e){o(e)}}))},91937:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>l});var s=n(74848),c=n(39107),a=n(88486),r=n(87675),i=e([r]);r=(i.then?(await i)():i)[0];const l=()=>{const e=(0,r.A)(),[t,n]=(0,a.Mj)("themeEditorPanel","colors");return(0,s.jsx)(c.tUM,{mode:"accent",children:(0,s.jsxs)(c.ox2,{children:[(0,s.jsx)(c.ORv,{onClick:()=>n("colors"),selected:"colors"===t,children:e.use("vkcom_theme_editor_colors")}),(0,s.jsx)(c.ORv,{onClick:()=>n("settings"),selected:"settings"===t,children:e.use("vkcom_theme_editor_settings")})]})})};o()}catch(e){o(e)}}))},57333:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>u});var s=n(74848),c=n(90275),a=n(95974),r=n(96540),i=n(87675),l=n(67194),d=n(14408),A=e([i]);i=(A.then?(await A)():A)[0];const u=({id:e,title:t,storageKey:n})=>{const o=(0,i.A)(),[A,u]=(0,l.A)(),[h,m]=(0,r.useState)(A[n]);return(0,r.useEffect)((()=>{A[n]!==h&&u({...A,[n]:h})}),[h]),(0,s.jsx)(c.vH,{className:d.A.SwitchBlock,Component:"label",rightIcon:(0,s.jsx)(a.A,{onChange:()=>{m(!h)},checked:h}),children:o.use(`vkcom_theme_editor_settings_${e}`)||t})};o()}catch(e){o(e)}}))},93537:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(96540).createContext)(null)},21751:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(74848),s=n(96540),c=n(74225),a=n.n(c),r=n(47875);const i=()=>r.A.call("extension.getThemeEditorConfig");var l=n(93537);const d=({children:e})=>{const[t,n]=(0,s.useState)(null);return a()((async e=>{const t=await i();e()&&n(t)}),[]),(0,o.jsx)(l.A.Provider,{value:t,children:e})}},40337:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(96540),s=n(93537);const c=()=>(0,o.useContext)(s.A)},67194:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(96540),s=n(79705),c=n(45633);const a=()=>{const[e]=(0,s.A)("currentTheme"),[t,n]=(0,o.useState)(c.default.getTheme(e)),a=(0,o.useRef)();return(0,o.useEffect)((()=>{n(c.default.getTheme(e))}),[e]),(0,o.useEffect)((()=>{const{remove:o}=c.default.addListener(((o,s)=>{const c=s[e];JSON.stringify(t)!==JSON.stringify(c)&&n(c)}));return()=>o()}),[]),[t,t=>{n(t),a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{c.default.setTheme(e,t)}),500)}]}},55697:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.r(t);var s=n(74848),c=n(57580),a=n(31381),r=n(14943),i=n(48779),l=n(3068),d=n(43024),A=n(81550),u=e([c,i]);[c,i]=u.then?(await u)():u;const h=document.createElement("div"),m=document.createElement("div");m.className=A.A.ThemeEditor_portal;let g=null;const x=async()=>{g&&(g(),g=null),await(0,a.A)(),await(0,r.A)(),document.body.append(h,m);const{unmount:e}=await(0,l.A)({root:h,portal:m,content:(0,s.jsx)(i.A,{}),disableParentTransformForPositionFixedElements:!0});g=e},v=()=>{g&&(g(),g=null),h.remove(),m.remove()},p=()=>d.default.getValue("currentTheme")===d.default.getValue("themeEditor");0,(async()=>{await x(),d.default.addListener((async(e,t)=>{const n=e.currentTheme!==t.currentTheme,o=e.themeEditor!==t.themeEditor;if(n||o){p()?await x():v()}}))})(),o()}catch(e){o(e)}}))},87675:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{A:()=>c});var s=n(93819);const e=await s.A,c=()=>e;o()}catch(e){o(e)}}),1)},79705:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(96540),s=n(43024);const c=function(e){const[t,n]=(0,o.useState)(s.default.getValue(e));return(0,o.useEffect)((()=>{const t=s.default.addChangeKeyListener(e,((e,t)=>n(t)));return()=>t.remove()}),[e]),[t,t=>{s.default.setValue(e,t)}]}},3068:(e,t,n)=>{n.d(t,{A:()=>l,P:()=>r});var o=n(74848),s=n(31381),c=n(12527);const a=document.createElement("div"),r=()=>a,i=async e=>{if(e._reactRoot)return e._reactRoot;const{createRoot:t}=await Promise.all([n.e(2551),n.e(5338)]).then(n.t.bind(n,5338,19));return e._reactRoot||(e._reactRoot=t(e)),e._reactRoot},l=async({root:e,portal:t,content:r,disablePortal:l,disableParentTransformForPositionFixedElements:d,wrapperProps:A,disableConfig:u,disableAppRoot:h,disableAnchorTextDecoration:m=!0,noStyling:g=!1})=>{if(u){const t=await i(e);return t.render(r),{unmount:()=>{t.render(null)}}}t||(await(0,s.A)(),document.body.contains(a)||document.body.appendChild(a));const x=t||a;x.classList.add(c.A.ReactAppConfig);const[v,{default:p}]=await Promise.all([i(e),Promise.all([n.e(2551),n.e(7983),n.e(2020),n.e(6735)]).then(n.bind(n,49302))]),f=[c.A.ReactAppConfig];m?(f.push(c.A["ReactAppConfig--disableAnchorTextDecoration"]),x.classList.add(c.A["ReactAppConfig--disableAnchorTextDecoration"])):x.classList.remove(c.A["ReactAppConfig--disableAnchorTextDecoration"]),A?.className&&f.push(A.className);const _=(0,o.jsx)(p,{disablePortal:l,portalRoot:x,disableParentTransformForPositionFixedElements:d,disableAppRoot:h,mode:g?"partial":"embedded",children:r});return g?v.render(_):v.render((0,o.jsx)("div",{className:f.join(" "),style:A?.style||{},children:_})),{unmount:()=>{v.render(null)}}}},45633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(44181);class s extends o.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,t){const n=this.getStorage();n[e]=t,this.saveStorage(n)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const t=this.getStorage();delete t[e],this.saveStorage(t)}}const c=new s},7646:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(74848),s=n(39107),c=n(42335);const a=({className:e,children:t,getRootRef:n,useScrollView:a,...r})=>a?(0,o.jsx)(s.guY,{getRootRef:n,className:(0,s.xWm)(c.A.ActionsMenu,e),children:t}):(0,o.jsx)("div",{ref:n,...r,className:(0,s.xWm)(c.A.ActionsMenu,e),children:t})},62882:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(74848),s=n(39107),c=n(53339);const a={large:c.A["ActionsMenuAction--size-large"],regular:c.A["ActionsMenuAction--size-regular"],max:c.A["ActionsMenuAction--size-max"]},r={primary:c.A["ActionsMenuAction--primary"],secondary:c.A["ActionsMenuAction--secondary"],danger:c.A["ActionsMenuAction--danger"],warning:c.A["ActionsMenuAction--warning"]},i=({leftIcon:e,rightIcon:t,title:n,subtitle:i,type:l="secondary",size:d="regular",isActive:A=!1,hasHover:u=!0,isLoading:h,className:m,onClick:g,titleClassName:x,getRootRef:v,href:p,Component:f=(p?"a":"button"),children:_,...y})=>(0,o.jsxs)(f,{className:(0,s.xWm)(c.A.ActionsMenuAction,u&&c.A["ActionsMenuAction--hover"],(g||u||p)&&c.A["ActionsMenuAction--clickable"],r[l],h&&c.A["ActionsMenuAction--loading"],A&&c.A["ActionsMenuAction--active"],a[d],m),onClick:h?void 0:g,ref:v,href:p,...y,children:[e&&(0,o.jsx)("i",{className:c.A.ActionsMenuAction__icon,children:e}),(0,o.jsxs)("span",{title:n,className:(0,s.xWm)(c.A.ActionsMenuAction__title,x),children:[_,i&&(0,o.jsx)("span",{className:c.A.ActionsMenuAction__subtitle,children:i})]}),t&&(0,o.jsx)("i",{className:c.A.ActionsMenuAction__icon,children:t})]})},22860:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(74848),s=n(75623),c=n(39107),a=n(7646);const r=({children:e,actions:t,actionsMenuClassName:n,hideOnClick:r=!0,disabled:i=!1,useScrollView:l=!1,...d})=>i?e:(0,o.jsx)(s.A,{content:(0,o.jsx)(a.A,{useScrollView:l,className:(0,c.xWm)(n),children:t}),noBackground:!0,hideOnClick:r,...d,children:e})},83558:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(74848),s=n(39107),c=n(44511);const a=({getRootRef:e,className:t,...n})=>(0,o.jsx)("div",{role:"separator",className:(0,s.xWm)(c.A.ActionsMenuActionSeparator,t),ref:e,...n})},90275:(e,t,n)=>{n.d(t,{AS:()=>s.A,Ku:()=>c.A,vH:()=>o.A});n(7646);var o=n(62882),s=n(83558),c=n(22860)},95974:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(74848),s=n(39107);const c="_ME21DoLEVJUlnQU",a=({className:e,...t})=>(0,o.jsx)(s.V9m,{value:s.ODD.ANDROID,children:(0,o.jsx)(s.dOG,{className:(0,s.xWm)(c,e),...t})})},75623:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(74848),s=n(39107),c=n(96540),a=n(61166);const r=({hideOnClick:e=!1,noBackground:t=!1,mode:n,onClick:r,onShownChange:i,className:l,contentWrapperClassName:d,shown:A,content:u,...h})=>{const[m,g]=(0,c.useState)(!1),x=(0,c.useRef)(null),v=(0,c.useRef)(null),p=(0,c.useCallback)((e=>{e?g(!0):x.current=setTimeout((()=>{g(!1)}),100),i?.(e)}),[n,i,g]);return(0,c.useEffect)((()=>{"boolean"==typeof A&&p(A)}),[A,p]),(0,o.jsx)(s.AMh,{shown:m,className:(0,s.xWm)(a.A.PopoverReforged,t&&a.A["PopoverReforged--noBackground"],l),onShownChange:p,onClick:e=>{if("side"===n&&x.current)clearTimeout(x.current);else try{r?.(e)}catch(e){console.error(e)}},content:(0,o.jsx)("div",{ref:v,className:(0,s.xWm)(d),onClick:t=>{e&&v.current?.contains(t.target)&&g(!1)},children:u}),...h})}},31381:(e,t,n)=>{n.d(t,{A:()=>s});let o=null;const s=async e=>document.body?document.body:o&&!e?o:(o=new Promise((e=>{if(document.body)return e(document.body);const t=new MutationObserver((()=>{document.body&&(e(document.body),t.disconnect())}));t.observe(document.documentElement,{childList:!0})})),await o)},81550:(e,t,n)=>{n.d(t,{A:()=>o});const o={ThemeEditorPanel:"y78m7BT9zAFa5GDk",Center:"hHWKbHQWpLPhLBse",ThemeEditor_portal:"TrGQmfpAYK10wYz8",Viewer__panel:"lzeNzsPTXGZgl1Sr","Viewer__panel--active":"TEmxaiW4mHWLWFSq"}},86262:(e,t,n)=>{n.d(t,{A:()=>o});const o={ColorBlock__item:"iAbxsOuH3PsjSctD",ColorBlock__itemColor:"_qgbcGmHD5cUTPTg",ChromePicker:"j9y1A4zpynWrSIzJ",ColorBlock__buttons:"k6A2ud7MFrKjrhyg",ColorBlock_backButton:"ncsJI4LVytOlFn8n"}},63864:(e,t,n)=>{n.d(t,{A:()=>o});const o={Footer:"MOKkrfJZpx1MqTRj"}},24676:(e,t,n)=>{n.d(t,{A:()=>o});const o={InputBlock:"Dm31rrjQpSZvxGFu"}},14408:(e,t,n)=>{n.d(t,{A:()=>o});const o={SwitchBlock:"QdxhbiMOyXDPk9Vj"}},12527:(e,t,n)=>{n.d(t,{A:()=>o});const o={"ReactAppConfig--disableAnchorTextDecoration":"eKp499l1uSMoyJtd",ReactAppConfig:"DWqlBEDzWSmYIYBM",ReactAppConfig__AppRoot:"W2ycDunObNZrVjYu"}},42335:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenu:"oXPVlZtlcjoi6d8e"}},53339:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh"}},44511:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}},61166:(e,t,n)=>{n.d(t,{A:()=>o});const o={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}}}]);