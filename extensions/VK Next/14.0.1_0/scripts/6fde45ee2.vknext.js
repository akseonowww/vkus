"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[7041],{81506:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(31381),s=n(14943);const o=()=>document.querySelector('.side_bar_ol,[class*="LeftMenuOld__container--"]'),r=async()=>{await(0,a.A)(),await(0,s.A)();const e=o();return e||new Promise((e=>{const t=setInterval((()=>{if(!document.querySelector(".left_menu_nav_wrap,#ads_left,#left_blocks"))return;const n=o();n&&(clearInterval(t),e(n))}),1e3)}))}},23806:(e,t,n)=>{n.d(t,{A:()=>a});const a=(e,{src:t,type:n,label:a,id:s})=>{const o=document.getElementById(s);if(!o)return;const r=o.querySelector('.LeftMenu__icon,[class*="LeftMenuItem__icon--"]'),i=o.querySelector('.LeftMenu__itemLabel,[class*="LeftMenuItem__label--"]');if(e){if(r&&t){const[e]=r.getElementsByTagName("svg");e&&(e.style.display="none");let[a]=r.getElementsByTagName("img");if(a){if(a.dataset.id===o.id)return;a.remove()}a=r.appendChild(document.createElement("img")),a.classList.add("vknextInternalCasper__img"),a.width=a.height=20,a.style.borderRadius="app"===n?"5px":"50%",a.dataset.id=o.id,a.src=t}i&&a&&(i.dataset.label||(i.dataset.label=i.innerText),i.innerText=a)}else{if(r){const[e]=r.getElementsByTagName("img");e&&e.remove();const[t]=r.getElementsByTagName("svg");t&&(t.style.display="")}i&&(i.dataset.label&&(i.innerText=i.dataset.label),delete i.dataset.label)}}},13050:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(10265);const s=new Map,o=async()=>{const e=await(0,a.A)();if(!e)return console.error("menuBox not found"),s;for(const t of e.tabs[2].items)t.photo&&(s.has(t.id)||s.set(t.id,t.photo));return s}},10265:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(96058);let s=null;const o=async()=>{try{if(s)return await s;const e=await(0,a.A)();s=e.promisifiedPost("al_settings.php",{act:"menu_box",type:2}).then((e=>e?.[0]))}catch(e){console.error(e)}return await s}},55406:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(10265);const s=new Map,o=async()=>{const e=await(0,a.A)();if(!e)return console.error("menuBox not found"),s;for(const t of e.tabs[1].items)t.photo&&(s.has(t.id)||s.set(t.id,t.photo));return s}},17041:(e,t,n)=>{n.a(e,(async(e,a)=>{try{n.r(t);var s=n(57580),o=n(81506),r=n(43024),i=n(23806),c=n(92243),l=n(13050),d=n(55406),u=e([s]);s=(u.then?(await u)():u)[0];const f=async e=>{const t=await(0,o.A)(),n=Array.from(t.querySelectorAll('li[id^="l_app"]'));if(!n.length)return;const a=await(0,l.A)();for(const t of n)if(e){const e=parseInt(t.id.split("l_app")[1]),n=a.get(e);if(!n)continue;(0,i.A)(!0,{id:t.id,src:n,type:"app"})}else(0,i.A)(!1,{id:t.id})},m=async e=>{const t=await(0,o.A)(),n=Array.from(t.querySelectorAll('li[id^="l_mgid"]'));if(n.length<1)return;const a=await(0,d.A)();for(const t of n)if(e){const e=parseInt(t.id.split("l_mgid")[1]),n=a.get(e);if(!n)continue;(0,i.A)(!0,{id:t.id,src:n,type:"group"})}else(0,i.A)(!1,{id:t.id})},p=async e=>{await(0,o.A)(),await Promise.all([f(e),m(e)])},y=async()=>{p(!0),r.default.addChangeKeyListener("changeIconsAppsAndGroups",((e,t)=>{p(t)})),(0,c.A)((()=>p(r.default.getValue("changeIconsAppsAndGroups"))))};0,r.default.onInited(y),a()}catch(e){a(e)}}))},92243:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(67992),s=n(5305);const o=new a.A;let r=!1;const i=async()=>{r||(r=!0,(0,s.A)((e=>{const[,t,n]=e;if(["a_toggle_admin_fast","a_change_services"].includes(t.act)){const{onDone:e}=n;n.onDone=function(...t){Reflect.apply(e,this,t);for(const e of o.listeners)e()}}return e})))},c=e=>{const t=o.addListener(e);return i(),t}},31381:(e,t,n)=>{n.d(t,{A:()=>s});let a=null;const s=async e=>document.body?document.body:a&&!e?a:(a=new Promise((e=>{if(document.body)return e(document.body);const t=new MutationObserver((()=>{document.body&&(e(document.body),t.disconnect())}));t.observe(document.documentElement,{childList:!0})})),await a)}}]);