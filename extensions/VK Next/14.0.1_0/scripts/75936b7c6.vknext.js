"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1348],{31348:(a,e,t)=>{t.a(a,(async(a,o)=>{try{t.r(e);var n=t(57580),c=t(14943),r=t(95684),s=t(4107),h=t(43024),i=a([n]);n=(i.then?(await i)():i)[0];const w=["vk.com/away.php","vk.ru/away.php"],l=async a=>!!a.toLowerCase().includes("vknext.")||(await new Promise(h.default.onInited),h.default.getValue("away")),u=async()=>{await(0,c.A)();for(const a of document.querySelectorAll('a[href^="https://vk.com/away.php"], a[href^="https://vk.ru/away.php"], a[href^="/away.php"]')){const e=new URL(a.href).searchParams.get("to");e&&await l(e)&&(a.href=e)}};0,(async()=>{if(w.some((a=>window.location.href.includes(a)))){const a=new URLSearchParams(window.location.search).get("to");if(a&&await l(a))return void(window.location.href=a)}const a=await(0,s.A)(),e=async()=>{await(0,c.A)(),await(0,r.A)(),u()};a.onLocationChange(e),a.subscribeOnModuleEvaluated(e)})().catch(console.error),o()}catch(a){o(a)}}))}}]);